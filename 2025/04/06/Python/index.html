<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Python | Norlcyan's Blog</title><meta name="author" content="Zhao"><meta name="copyright" content="Zhao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Python基础整理时间：2025-04-06 | 适用版本：Python 3.10+ | 学习方式：B站尚硅谷 Demo可以通过百度网盘下载：PythonDemo.7z  语法差异速查表   特性 Java Python    代码块 &#123;&#125; 包裹 缩进（4空格&#x2F;Tab）   语句结束符 ; 换行即结束   变量声明 类型强制声明 动态类型   主函数入口 publi">
<meta property="og:type" content="article">
<meta property="og:title" content="Python">
<meta property="og:url" content="http://example.com/2025/04/06/Python/index.html">
<meta property="og:site_name" content="Norlcyan&#39;s Blog">
<meta property="og:description" content="Python基础整理时间：2025-04-06 | 适用版本：Python 3.10+ | 学习方式：B站尚硅谷 Demo可以通过百度网盘下载：PythonDemo.7z  语法差异速查表   特性 Java Python    代码块 &#123;&#125; 包裹 缩进（4空格&#x2F;Tab）   语句结束符 ; 换行即结束   变量声明 类型强制声明 动态类型   主函数入口 publi">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/avatar.jpg">
<meta property="article:published_time" content="2025-04-06T09:36:35.000Z">
<meta property="article:modified_time" content="2025-06-06T10:03:28.104Z">
<meta property="article:author" content="Zhao">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Python基础知识">
<meta property="article:tag" content="Python面向对象">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/z.png"><link rel="canonical" href="http://example.com/2025/04/06/Python/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Python',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-06-06 18:03:28'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/footer.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/bodybg.css"><meta name="generator" content="Hexo 7.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/loading.gif" data-original="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fa fa-comments"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Norlcyan's Blog"><span class="site-name">Norlcyan's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fa fa-comments"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Python</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-04-06T09:36:35.000Z" title="发表于 2025-04-06 17:36:35">2025-04-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-06T10:03:28.104Z" title="更新于 2025-06-06 18:03:28">2025-06-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Python"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="Python基础"><a href="#Python基础" class="headerlink" title="Python基础"></a>Python基础</h1><p><em>整理时间：2025-04-06 | 适用版本：Python 3.10+ | 学习方式：B站尚硅谷</em></p>
<p>Demo可以通过百度网盘下载：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1rnsrMe4GYK0bH1wIfSFSzQ?pwd=ibpp">PythonDemo.7z</a> </p>
<h2 id="语法差异速查表"><a href="#语法差异速查表" class="headerlink" title="语法差异速查表"></a>语法差异速查表</h2><table>
<thead>
<tr>
<th>特性</th>
<th>Java</th>
<th>Python</th>
</tr>
</thead>
<tbody><tr>
<td>代码块</td>
<td><code>&#123;&#125;</code> 包裹</td>
<td>缩进（4空格&#x2F;Tab）</td>
</tr>
<tr>
<td>语句结束符</td>
<td><code>;</code></td>
<td>换行即结束</td>
</tr>
<tr>
<td>变量声明</td>
<td>类型强制声明</td>
<td>动态类型</td>
</tr>
<tr>
<td>主函数入口</td>
<td><code>public static void main</code></td>
<td><code>if __name__ == &quot;__main__&quot;:</code></td>
</tr>
<tr>
<td>块注释</td>
<td>&#x2F;&#x2F;</td>
<td>#</td>
</tr>
<tr>
<td>多行注释</td>
<td>&#x2F;* *&#x2F;</td>
<td>“””<br />“””</td>
</tr>
<tr>
<td>常量声明</td>
<td>final修饰符</td>
<td>变量大写（没有专门的常量类型，可以引入第三方库实现）</td>
</tr>
</tbody></table>
<h2 id="打印函数——Print"><a href="#打印函数——Print" class="headerlink" title="打印函数——Print"></a>打印函数——Print</h2><h3 id="基础用法"><a href="#基础用法" class="headerlink" title="基础用法"></a>基础用法</h3><p>和Java中的<code>System.out.println()</code>一样，主要是用于在控制台中输出结果的，基础用法如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World&quot;</span>)  <span class="comment"># 输出字符串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">2025</span>)           <span class="comment"># 输出数字</span></span><br><span class="line"><span class="built_in">print</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])      <span class="comment"># 输出列表</span></span><br></pre></td></tr></table></figure>



<h3 id="多对象输出（sep参数）"><a href="#多对象输出（sep参数）" class="headerlink" title="多对象输出（sep参数）"></a>多对象输出（sep参数）</h3><p>当<code>print</code>函数中有多个参数时，使用<code>sep</code>参数可以为每个参数之间添加相关的间隔符，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Alice&quot;</span></span><br><span class="line">age = <span class="number">25</span></span><br><span class="line"><span class="built_in">print</span>(name, <span class="string">&quot;年龄&quot;</span>, age, sep=<span class="string">&quot;-&gt;&quot;</span>)  <span class="comment"># 输出：Alice-&gt;年龄-&gt;25</span></span><br></pre></td></tr></table></figure>



<h3 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h3><h4 id="f-string"><a href="#f-string" class="headerlink" title="f-string"></a>f-string</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pi = <span class="number">3.1415926</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;圆周率：<span class="subst">&#123;pi:<span class="number">.3</span>f&#125;</span>&quot;</span>)  <span class="comment"># 输出：圆周率：3.142</span></span><br></pre></td></tr></table></figure>



<h4 id="format"><a href="#format" class="headerlink" title="format"></a>format</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;坐标：(&#123;x&#125;, &#123;y&#125;)&quot;</span>.<span class="built_in">format</span>(x=<span class="number">10</span>, y=<span class="number">20</span>))</span><br></pre></td></tr></table></figure>



<h4 id="传统占位符"><a href="#传统占位符" class="headerlink" title="传统占位符"></a>传统占位符</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;CPU使用率：%.1f%%&quot;</span> % <span class="number">75.5</span>)</span><br></pre></td></tr></table></figure>



<h3 id="进阶控制参数"><a href="#进阶控制参数" class="headerlink" title="进阶控制参数"></a>进阶控制参数</h3><h4 id="换行控制（end参数）"><a href="#换行控制（end参数）" class="headerlink" title="换行控制（end参数）"></a>换行控制（end参数）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Loading&quot;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;...&quot;</span>, end=<span class="string">&#x27;&#x27;</span>)  <span class="comment"># 输出：Loading...</span></span><br></pre></td></tr></table></figure>



<h4 id="实时刷新（flush参数）"><a href="#实时刷新（flush参数）" class="headerlink" title="实时刷新（flush参数）"></a>实时刷新（flush参数）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;.&quot;</span>, end=<span class="string">&#x27;&#x27;</span>, flush=<span class="literal">True</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)  <span class="comment"># 每秒输出一个点</span></span><br></pre></td></tr></table></figure>



<h4 id="多行文本（三引号）"><a href="#多行文本（三引号）" class="headerlink" title="多行文本（三引号）"></a>多行文本（三引号）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">第一行</span></span><br><span class="line"><span class="string">第二行</span></span><br><span class="line"><span class="string">第三行</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="特殊场景处理"><a href="#特殊场景处理" class="headerlink" title="特殊场景处理"></a>特殊场景处理</h3><h4 id="转义字符处理"><a href="#转义字符处理" class="headerlink" title="转义字符处理"></a>转义字符处理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;换行符：\\n&quot;</span>)  <span class="comment"># 输出：换行符：\n</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">r&quot;原始字符串：C:\new_dir&quot;</span>)  <span class="comment"># 使用r前缀不转义</span></span><br></pre></td></tr></table></figure>



<h4 id="输出调试信息"><a href="#输出调试信息" class="headerlink" title="输出调试信息"></a>输出调试信息</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;<span class="string">&quot;status&quot;</span>: <span class="number">200</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;data=&#125;</span>&quot;</span>)  <span class="comment"># 输出：data=&#123;&#x27;status&#x27;: 200&#125;</span></span><br></pre></td></tr></table></figure>



<h2 id="输入函数——Input"><a href="#输入函数——Input" class="headerlink" title="输入函数——Input"></a>输入函数——Input</h2><h3 id="基础用法-1"><a href="#基础用法-1" class="headerlink" title="基础用法"></a>基础用法</h3><p>同Java中的<code>Scanner</code>类，主要的作用是提供开发人员在控制台中输入内容，使用方法如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user_input = <span class="built_in">input</span>(<span class="string">&quot;请输入内容：&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;您输入的是：<span class="subst">&#123;user_input&#125;</span>（类型：<span class="subst">&#123;<span class="built_in">type</span>(user_input)&#125;</span>）&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>需要注意的是，<code>input</code>方法会阻塞执行（代码停留在input函数处不会继续向下执行）</p>
<h4 id="类型转换机制"><a href="#类型转换机制" class="headerlink" title="类型转换机制"></a>类型转换机制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 必须显式转换类型</span></span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入年龄：&quot;</span>))  <span class="comment"># 输入25 → 类型int</span></span><br><span class="line">price = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入价格：&quot;</span>))  <span class="comment"># 输入19.9 → 类型float</span></span><br></pre></td></tr></table></figure>



<h3 id="进阶使用技巧"><a href="#进阶使用技巧" class="headerlink" title="进阶使用技巧"></a>进阶使用技巧</h3><h4 id="多值接收处理"><a href="#多值接收处理" class="headerlink" title="多值接收处理"></a>多值接收处理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解包赋值（需保证输入格式）</span></span><br><span class="line">x, y = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>(<span class="string">&quot;输入两个数字（空格分隔）：&quot;</span>).split())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;x+y=<span class="subst">&#123;x+y&#125;</span>&quot;</span>)  <span class="comment"># 输入&quot;10 20&quot; → 输出30</span></span><br></pre></td></tr></table></figure>



<h4 id="安全输入验证"><a href="#安全输入验证" class="headerlink" title="安全输入验证"></a>安全输入验证</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入整数：&quot;</span>))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;输入无效，请重新输入！&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="特殊场景处理-1"><a href="#特殊场景处理-1" class="headerlink" title="特殊场景处理"></a>特殊场景处理</h3><h4 id="多行输入处理"><a href="#多行输入处理" class="headerlink" title="多行输入处理"></a>多行输入处理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;输入多行内容（空行结束）：&quot;</span>)</span><br><span class="line">lines = []</span><br><span class="line"><span class="keyword">while</span> (line := <span class="built_in">input</span>()) != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">    lines.append(line)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;总行数：<span class="subst">&#123;<span class="built_in">len</span>(lines)&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><code>:=</code>是<a href="#%E6%B5%B7%E8%B1%A1%E8%BF%90%E7%AE%97%E7%AC%A6%E2%80%94%E2%80%94%60:=%60">海象运算符</a>，是python语言独有的运算符</p>
<h4 id="密码输入隐藏（需安装getpass）"><a href="#密码输入隐藏（需安装getpass）" class="headerlink" title="密码输入隐藏（需安装getpass）"></a>密码输入隐藏（需安装getpass）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> getpass <span class="keyword">import</span> getpass</span><br><span class="line">password = getpass(<span class="string">&quot;输入密码：&quot;</span>)  <span class="comment"># 输入时无回显</span></span><br></pre></td></tr></table></figure>



<h2 id="海象运算符——"><a href="#海象运算符——" class="headerlink" title="海象运算符——:="></a>海象运算符——<code>:=</code></h2><h3 id="基本定义"><a href="#基本定义" class="headerlink" title="基本定义"></a>基本定义</h3><p>- <strong>官方名称</strong>：赋值表达式运算符 (Assignment Expressions) </p>
<p>- <strong>符号</strong>：<code>:=</code>（形似海象眼睛和牙齿而得名） </p>
<p>- <strong>版本要求</strong>：Python 3.8+（2020年9月正式发布） </p>
<p>- <strong>核心功能</strong>：在表达式内部进行变量赋值</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><p><strong>传统赋值</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="built_in">len</span>(data)</span><br><span class="line"><span class="keyword">if</span> n &gt; <span class="number">10</span>:</span><br><span class="line">    <span class="built_in">print</span>(n)</span><br></pre></td></tr></table></figure>



<p><strong>海象运算符写法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (n := <span class="built_in">len</span>(data)) &gt; <span class="number">10</span>:</span><br><span class="line">    <span class="built_in">print</span>(n)</span><br></pre></td></tr></table></figure>



<h3 id="典型应用场景"><a href="#典型应用场景" class="headerlink" title="典型应用场景"></a>典型应用场景</h3><h4 id="循环控制"><a href="#循环控制" class="headerlink" title="循环控制"></a>循环控制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取文件直到空行</span></span><br><span class="line">lines = []</span><br><span class="line"><span class="keyword">while</span> (line := <span class="built_in">input</span>()) != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">    lines.append(line)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等效传统写法</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    line = <span class="built_in">input</span>()</span><br><span class="line">    <span class="keyword">if</span> line == <span class="string">&#x27;&#x27;</span>: <span class="keyword">break</span></span><br><span class="line">    lines.append(line)</span><br></pre></td></tr></table></figure>



<h4 id="列表推导式优化"><a href="#列表推导式优化" class="headerlink" title="列表推导式优化"></a>列表推导式优化</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 避免重复计算</span></span><br><span class="line">data = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">doubled = [y <span class="keyword">for</span> x <span class="keyword">in</span> data <span class="keyword">if</span> (y := x*<span class="number">2</span>) &lt; <span class="number">8</span>]</span><br><span class="line"><span class="comment"># 结果：[2, 4, 6]</span></span><br></pre></td></tr></table></figure>



<h4 id="正则匹配"><a href="#正则匹配" class="headerlink" title="正则匹配"></a>正则匹配</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">&quot;2025-04-06更新日志&quot;</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">match</span> := re.search(<span class="string">r&#x27;\d&#123;4&#125;-\d&#123;2&#125;-\d&#123;2&#125;&#x27;</span>, text)):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;找到日期：<span class="subst">&#123;<span class="keyword">match</span>.group()&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="运行原理"><a href="#运行原理" class="headerlink" title="运行原理"></a>运行原理</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  
graph TD
    A[表达式开始] --&gt; B[执行右侧运算]
    B --&gt; C[赋值给左侧变量]
    C --&gt; D[返回赋值结果]
    D --&gt; E[参与表达式运算]

  </pre></div>





<h2 id="类型判断——Type和Isinstance"><a href="#类型判断——Type和Isinstance" class="headerlink" title="类型判断——Type和Isinstance"></a>类型判断——Type和Isinstance</h2><h3 id="Type方法"><a href="#Type方法" class="headerlink" title="Type方法"></a>Type方法</h3><h4 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">42</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(num))  <span class="comment"># &lt;class &#x27;int&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(lst))  <span class="comment"># &lt;class &#x27;list&#x27;&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="进阶使用"><a href="#进阶使用" class="headerlink" title="进阶使用"></a>进阶使用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Dog = <span class="built_in">type</span>(<span class="string">&#x27;Dog&#x27;</span>, (), &#123;<span class="string">&#x27;bark&#x27;</span>: <span class="keyword">lambda</span> self: <span class="built_in">print</span>(<span class="string">&quot;Woof!&quot;</span>)&#125;)</span><br><span class="line">d = Dog()</span><br><span class="line">d.bark()  <span class="comment"># 输出: Woof!</span></span><br></pre></td></tr></table></figure>



<h3 id="Isinstance方法"><a href="#Isinstance方法" class="headerlink" title="Isinstance方法"></a>Isinstance方法</h3><h4 id="基础使用-1"><a href="#基础使用-1" class="headerlink" title="基础使用"></a>基础使用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 类型检查</span></span><br><span class="line">num = <span class="number">3.14</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(num, <span class="built_in">float</span>))  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(num, (<span class="built_in">int</span>, <span class="built_in">float</span>)))  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>



<h4 id="继承关系处理"><a href="#继承关系处理" class="headerlink" title="继承关系处理"></a>继承关系处理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>: <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>): <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">d = Dog()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(d, Animal))  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>



<h4 id="典型应用场景-1"><a href="#典型应用场景-1" class="headerlink" title="典型应用场景"></a>典型应用场景</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安全类型检查</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">safe_divide</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(a, (<span class="built_in">int</span>, <span class="built_in">float</span>)) <span class="keyword">or</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(b, (<span class="built_in">int</span>, <span class="built_in">float</span>)):</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">&quot;参数必须是数字类型&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> a / b</span><br></pre></td></tr></table></figure>



<h3 id="核心差异对比"><a href="#核心差异对比" class="headerlink" title="核心差异对比"></a>核心差异对比</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  
flowchart TD
    A((22))
    A --&gt; B((18))
    A --&gt; C((26))
    B --&gt; D((16))
    B --&gt; E((20))
    D --&gt; F((15))
    D --&gt; G((17))
    E --&gt; N((19))
    E --&gt; O((21))
    C --&gt; H((24))
    C --&gt; I((28))
    H --&gt; J((23))
    H --&gt; K((25))
    I --&gt; L((27))
    I --&gt; M((29))

  </pre></div>



<h2 id="Python数据类型汇总"><a href="#Python数据类型汇总" class="headerlink" title="Python数据类型汇总"></a>Python数据类型汇总</h2><table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>整型（Integer）</td>
<td>表示的是整数类型，如-1，-2，4，8，10，11等等，不带小数点</td>
<td>123</td>
</tr>
<tr>
<td>浮点型（Float）</td>
<td>表示的是带有小数的数字</td>
<td>3.14</td>
</tr>
<tr>
<td>复数（Complex）</td>
<td>表示带有实部和虚部的数字</td>
<td>5.55j</td>
</tr>
<tr>
<td>布尔型（Boolean）</td>
<td>表示真值或假值</td>
<td>True、False</td>
</tr>
<tr>
<td>字符串（String）</td>
<td>表示一串字符</td>
<td>“Hello World”</td>
</tr>
<tr>
<td>列表（List）</td>
<td>表示数组，与Java不同的是，数组中的值可以是任意类型</td>
<td>[1, ‘test’, True]</td>
</tr>
<tr>
<td>元组（Tuple）</td>
<td>类似于列表，但是不可变</td>
<td>(1,”Bob”,False)</td>
</tr>
<tr>
<td>集合（Set）</td>
<td>无序且不重复的元素集合</td>
<td>{1，24，11，25}</td>
</tr>
<tr>
<td>字典（Dictionary）</td>
<td>键值对的集合，类似于对象</td>
<td>{‘name’:’Alex’, ‘age’:18}</td>
</tr>
</tbody></table>
<h3 id="Python中字符串的一些特性"><a href="#Python中字符串的一些特性" class="headerlink" title="Python中字符串的一些特性"></a>Python中字符串的一些特性</h3><h4 id="官方语言特性"><a href="#官方语言特性" class="headerlink" title="官方语言特性"></a>官方语言特性</h4><ul>
<li><strong>Python 3.0+</strong> 原生支持切片操作符 <code>[start:end:step]</code></li>
<li><strong>负步长反转</strong> 是Python特有的语法糖（相较Java需手动实现）</li>
</ul>
<h4 id="特性对比"><a href="#特性对比" class="headerlink" title="特性对比"></a>特性对比</h4><table>
<thead>
<tr>
<th>语言</th>
<th>字符串反转实现方式</th>
<th>代码示例</th>
</tr>
</thead>
<tbody><tr>
<td>Python</td>
<td>切片步长-1</td>
<td><code>s[::-1]</code></td>
</tr>
<tr>
<td>Java</td>
<td>StringBuilder.reverse()</td>
<td><code>new StringBuilder(s).reverse()</code></td>
</tr>
<tr>
<td>C++</td>
<td>std::reverse</td>
<td><code>std::reverse(s.begin(), s.end())</code></td>
</tr>
</tbody></table>
<h4 id="基础切片"><a href="#基础切片" class="headerlink" title="基础切片"></a>基础切片</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Python切片特性&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">2</span>:<span class="number">5</span>])    <span class="comment"># 输出: tho</span></span><br><span class="line"><span class="built_in">print</span>(s[::<span class="number">2</span>])    <span class="comment"># 输出: Pto切性</span></span><br></pre></td></tr></table></figure>

<h4 id="反转黑科技"><a href="#反转黑科技" class="headerlink" title="反转黑科技"></a>反转黑科技</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = &quot;ABCDE&quot;</span><br><span class="line">print(s[::-1])  # 输出: EDCBA（根据2024 Stack Overflow票选最佳技巧）</span><br></pre></td></tr></table></figure>

<h4 id="多维切片（Python独有）"><a href="#多维切片（Python独有）" class="headerlink" title="多维切片（Python独有）"></a>多维切片（Python独有）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">matrix = [[1,2,3], [4,5,6], [7,8,9]]</span><br><span class="line">print(matrix[1:][::-1])  # 输出：[[7,8,9], [4,5,6]]</span><br></pre></td></tr></table></figure>

<h4 id="快速理解"><a href="#快速理解" class="headerlink" title="快速理解"></a>快速理解</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 标准切片语法</span></span><br><span class="line">sequence[start:end:step]</span><br></pre></td></tr></table></figure>

<ul>
<li><code>start</code>：起始索引（包含，默认0）</li>
<li><code>end</code>：结束索引（不包含，默认序列长度）</li>
<li><code>step</code>：步长（默认1，可为负数）</li>
</ul>
<h4 id="边界自动校准机制"><a href="#边界自动校准机制" class="headerlink" title="边界自动校准机制"></a>边界自动校准机制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 超出索引自动截断（2025 PyCon展示案例）</span></span><br><span class="line">s = <span class="string">&quot;Python&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">2</span>:<span class="number">100</span>])  <span class="comment"># 输出&quot;thon&quot;（实际end=5）</span></span><br></pre></td></tr></table></figure>



<h3 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h3><table>
<thead>
<tr>
<th>转换方向</th>
<th>函数示例</th>
<th>典型应用场景</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>转整型</td>
<td><code>int()</code></td>
<td>用户年龄输入处理</td>
<td>浮点转整型会截断小数</td>
</tr>
<tr>
<td>转浮点型</td>
<td><code>float()</code></td>
<td>商品价格计算</td>
<td>字符串需包含有效数字格式</td>
</tr>
<tr>
<td>转字符串</td>
<td><code>str()</code></td>
<td>日志信息拼接</td>
<td>支持所有数据类型转换</td>
</tr>
<tr>
<td>转列表</td>
<td><code>list()</code></td>
<td>JSON数据解析</td>
<td>字典转换会丢失键值对</td>
</tr>
<tr>
<td>转元组</td>
<td><code>tuple()</code></td>
<td>坐标点不可变存储</td>
<td>类似列表但不可修改</td>
</tr>
<tr>
<td>转字典</td>
<td><code>dict()</code></td>
<td>配置文件读取</td>
<td>需要键值对结构数据</td>
</tr>
<tr>
<td>转集合</td>
<td><code>set()</code></td>
<td>数据去重处理</td>
<td>自动排序且元素唯一</td>
</tr>
<tr>
<td>转布尔</td>
<td><code>bool()</code></td>
<td>条件判断预处理</td>
<td>非零&#x2F;非空为True</td>
</tr>
<tr>
<td>转字节</td>
<td><code>bytes()</code></td>
<td>网络数据传输</td>
<td>需指定编码方式</td>
</tr>
<tr>
<td>复数转换</td>
<td><code>complex()</code></td>
<td>科学计算场景</td>
<td>实部虚部需数字类型</td>
</tr>
</tbody></table>
<h4 id="容器类型转换"><a href="#容器类型转换" class="headerlink" title="容器类型转换"></a>容器类型转换</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 元组转列表（Django模型数据处理）</span></span><br><span class="line">coordinates = (<span class="number">116.40</span>, <span class="number">39.91</span>)</span><br><span class="line">coord_list = <span class="built_in">list</span>(coordinates)  <span class="comment"># [116.4, 39.91]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典键值转换（2025数据处理新技巧）</span></span><br><span class="line">data_dict = &#123;<span class="string">&quot;A&quot;</span>:<span class="number">1</span>, <span class="string">&quot;B&quot;</span>:<span class="number">2</span>&#125;</span><br><span class="line">keys_list = <span class="built_in">list</span>(data_dict)      <span class="comment"># [&#x27;A&#x27;, &#x27;B&#x27;]（仅保留键）</span></span><br></pre></td></tr></table></figure>



<h3 id="小整数"><a href="#小整数" class="headerlink" title="小整数"></a>小整数</h3><h4 id="小整数池范围"><a href="#小整数池范围" class="headerlink" title="小整数池范围"></a>小整数池范围</h4><p>- 官方范围：<code>[-5, 256]</code>（CPython实现）</p>
<p>- 缓存目的：减少内存碎片，提高常用数值操作效率</p>
<h4 id="内存分配原理"><a href="#内存分配原理" class="headerlink" title="内存分配原理"></a>内存分配原理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 验证地址相同</span></span><br><span class="line">a = <span class="number">100</span></span><br><span class="line">b = <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a) == <span class="built_in">id</span>(b))  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 超出范围地址不同</span></span><br><span class="line">x = <span class="number">300</span></span><br><span class="line">y = <span class="number">300</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(x) == <span class="built_in">id</span>(y))  <span class="comment"># False（交互式环境可能为True）</span></span><br></pre></td></tr></table></figure>



<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><table>
<thead>
<tr>
<th>运算符类型</th>
<th>Python运算符</th>
<th>Java运算符</th>
<th>关键差异点</th>
</tr>
</thead>
<tbody><tr>
<td>逻辑运算符</td>
<td><code>and</code> <code>or</code> <code>not</code></td>
<td><code>&amp;&amp;</code> &#96;</td>
<td></td>
</tr>
<tr>
<td>位运算符</td>
<td><code>&amp;</code> &#96;</td>
<td><code> </code>^<code> </code>~&#96;</td>
<td>同Python</td>
</tr>
<tr>
<td>成员运算符</td>
<td><code>in</code> <code>not in</code></td>
<td>无</td>
<td>Python特有语法结构</td>
</tr>
<tr>
<td>身份运算符</td>
<td><code>is</code> <code>is not</code></td>
<td><code>==</code>（引用比较）</td>
<td>Java无专用运算符</td>
</tr>
<tr>
<td>幂运算</td>
<td><code>**</code></td>
<td><code>Math.pow()</code></td>
<td>Python直接支持，Java需调用方法</td>
</tr>
</tbody></table>
<h3 id="差异（与Java相比）"><a href="#差异（与Java相比）" class="headerlink" title="差异（与Java相比）"></a>差异（与Java相比）</h3><ul>
<li><p>Python全系逻辑运算符支持短路机制</p>
</li>
<li><p>Java使用</p>
<p><code>&amp;&amp;</code></p>
<p>（短路）与</p>
<p><code>&amp;</code></p>
<p>（非短路）区分</p>
</li>
</ul>
<h4 id="自增-自减运算"><a href="#自增-自减运算" class="headerlink" title="自增&#x2F;自减运算"></a>自增&#x2F;自减运算</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Python（无此运算符）</span><br><span class="line">i += 1  # 只能使用复合赋值</span><br><span class="line"></span><br><span class="line"># Java（支持++/--）</span><br><span class="line">i++;  // 等效i = i + 1</span><br></pre></td></tr></table></figure>

<h4 id="除法运算"><a href="#除法运算" class="headerlink" title="除法运算"></a>除法运算</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Python（明确区分）</span><br><span class="line">5 / 2   # 2.5（真除法）</span><br><span class="line">5 // 2  # 2（整除）</span><br><span class="line"></span><br><span class="line"># Java（统一行为）</span><br><span class="line">5 / 2   // 2（自动取整）</span><br><span class="line">(double)5 / 2 // 2.5</span><br></pre></td></tr></table></figure>

<h4 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Python特有语法</span><br><span class="line">if &#x27;a&#x27; in [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]: ...</span><br><span class="line"></span><br><span class="line"># Java需手动实现</span><br><span class="line">List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);</span><br><span class="line">if (list.contains(&quot;a&quot;)) &#123; ... &#125;</span><br></pre></td></tr></table></figure>



<h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><p>最基础的<code>If</code>条件判断书写格式如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>:    <span class="comment"># 必须包含冒号</span></span><br><span class="line">    代码块<span class="number">1</span>  <span class="comment"># 4空格缩进强制要求</span></span><br><span class="line"><span class="keyword">elif</span> 条件<span class="number">2</span>:  <span class="comment"># 可多个elif分支</span></span><br><span class="line">    代码块<span class="number">2</span></span><br><span class="line"><span class="keyword">else</span>:       <span class="comment"># 最终兜底分支</span></span><br><span class="line">    代码块<span class="number">3</span></span><br></pre></td></tr></table></figure>



<p>Java中的<code>Switch-Case</code>在Python中表示为<code>Match-Case</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> status_code:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">200</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Success&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Not Found&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> _:  <span class="comment"># 默认分支</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Unknown Status&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>但是需要注意，虽然Python中的<code>Match-Case</code>和Java中的<code>Switch-Case</code>很相似，但还有很多的差异：</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>Python match-case (3.10+)</th>
<th>Java switch-case (21+)</th>
</tr>
</thead>
<tbody><tr>
<td>匹配范围</td>
<td>任意数据类型</td>
<td>标量值（整型、枚举、字符串等）</td>
</tr>
<tr>
<td>模式匹配</td>
<td>支持结构化模式匹配</td>
<td>Java 17+支持类型模式匹配</td>
</tr>
<tr>
<td>默认分支</td>
<td><code>case _:</code></td>
<td><code>default:</code></td>
</tr>
<tr>
<td>作用域控制</td>
<td>自动阻断（无需break）</td>
<td>需要break&#x2F;yield&#x2F;return</td>
</tr>
<tr>
<td>返回值</td>
<td>可返回任意类型</td>
<td>必须统一返回类型（switch表达式）</td>
</tr>
</tbody></table>
<p><strong>典型场景对比</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python 3.10+ 类型匹配方案</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">format_value</span>(<span class="params">obj</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="keyword">match</span> obj:</span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">int</span>(i):  <span class="comment"># 匹配整型并解包值</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;int <span class="subst">&#123;i&#125;</span>&quot;</span></span><br><span class="line">        <span class="keyword">case</span> <span class="built_in">str</span>(s):  <span class="comment"># 匹配字符串并解包值</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;String <span class="subst">&#123;s&#125;</span>&quot;</span></span><br><span class="line">        <span class="keyword">case</span> _:       <span class="comment"># 通配符匹配其他类型</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Unknown type&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Java 模式匹配（<span class="number">21</span>+）</span><br><span class="line"><span class="type">String</span> <span class="variable">formatted</span> <span class="operator">=</span> <span class="keyword">switch</span> (obj) &#123;</span><br><span class="line">    <span class="keyword">case</span> Integer i -&gt; String.format(<span class="string">&quot;int %d&quot;</span>, i);</span><br><span class="line">    <span class="keyword">case</span> String s -&gt; String.format(<span class="string">&quot;String %s&quot;</span>, s);</span><br><span class="line">    <span class="keyword">default</span> -&gt; <span class="string">&quot;Unknown type&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 遍历可迭代对象</span></span><br><span class="line">fruits = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> fruit <span class="keyword">in</span> fruits:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;当前水果：<span class="subst">&#123;fruit&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 结合range函数</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>, <span class="number">10</span>, <span class="number">2</span>):  <span class="comment"># 5-9，步长2</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;步长循环：<span class="subst">&#123;i&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 带else子句（循环正常结束时执行）</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;循环正常结束&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基础条件循环</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> count &lt; <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;计数：<span class="subst">&#123;count&#125;</span>&quot;</span>)</span><br><span class="line">    count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 避免死循环模板</span></span><br><span class="line">timeout = <span class="number">10</span></span><br><span class="line">start_time = time.time()</span><br><span class="line"><span class="keyword">while</span> time.time() - start_time &lt; timeout:</span><br><span class="line">    <span class="comment"># 超时自动退出</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>



<h3 id="循环控制语句"><a href="#循环控制语句" class="headerlink" title="循环控制语句"></a>循环控制语句</h3><h5 id="break与continue"><a href="#break与continue" class="headerlink" title="break与continue"></a>break与continue</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># break示例（立即终止循环）</span></span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">5</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;检测到5，终止循环&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line"></span><br><span class="line"><span class="comment"># continue示例（跳过当前迭代）</span></span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">if</span> num % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;奇数：<span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="实际场景应用"><a href="#实际场景应用" class="headerlink" title="实际场景应用"></a>实际场景应用</h3><h4 id="数据遍历"><a href="#数据遍历" class="headerlink" title="数据遍历"></a>数据遍历</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典遍历优化</span></span><br><span class="line">user_info = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;John&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">30</span>, <span class="string">&quot;city&quot;</span>: <span class="string">&quot;NY&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> user_info.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;key&#125;</span>: <span class="subst">&#123;value&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多维数据处理</span></span><br><span class="line">matrix = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> matrix:</span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> row:</span><br><span class="line">        <span class="built_in">print</span>(num * <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h4 id="条件循环控制"><a href="#条件循环控制" class="headerlink" title="条件循环控制"></a>条件循环控制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实时数据监控模式（2025推荐）</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">threshold = <span class="number">0.8</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    value = random.random()</span><br><span class="line">    <span class="keyword">if</span> value &gt; threshold:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;警报！数值超标：<span class="subst">&#123;value:<span class="number">.2</span>f&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>



<h2 id="组合数据类型（复杂数据类型）"><a href="#组合数据类型（复杂数据类型）" class="headerlink" title="组合数据类型（复杂数据类型）"></a>组合数据类型（复杂数据类型）</h2><h3 id="序列的通用操作"><a href="#序列的通用操作" class="headerlink" title="序列的通用操作"></a>序列的通用操作</h3><p>Tips：该部分来自B站尚硅谷</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>len(item)</td>
<td>计算容器中元素个数</td>
<td></td>
</tr>
<tr>
<td>del(item)</td>
<td>删除变量</td>
<td>del有两种方式</td>
</tr>
<tr>
<td>max(item)</td>
<td>返回容器中元素最大值</td>
<td>如果是字典，只针对<code>Key</code>比较</td>
</tr>
<tr>
<td>min(item)</td>
<td>返回容器中元素最小值</td>
<td>如果是字典，只针对<code>Key</code>比较</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>描述</th>
<th>Python表达式</th>
<th>结果</th>
<th>支持的数据类型</th>
</tr>
</thead>
<tbody><tr>
<td>切片</td>
<td>“0123456789”[::-2]</td>
<td>“97531”</td>
<td>字符串、列表、元组</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>运算符</th>
<th>Python表达式</th>
<th>结果</th>
<th>描述</th>
<th>支持的数据类型</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>[1,2] + [3,4]</td>
<td>[1,2,3,4]</td>
<td>合并</td>
<td>字符串、列表、元组</td>
</tr>
<tr>
<td>*</td>
<td>[“Hi!”] * 4</td>
<td>[‘Hi’,’Hi’,’Hi’,’Hi’]</td>
<td>重复</td>
<td>字符串、列表、元组</td>
</tr>
<tr>
<td>in</td>
<td>3 in (1,2,3)</td>
<td>True</td>
<td>元素是否存在</td>
<td>字符串、列表、元组、字典</td>
</tr>
<tr>
<td>not in</td>
<td>4 not in (1,2,3)</td>
<td>True</td>
<td>元素是否不存在</td>
<td>字符串、列表、元组、字典</td>
</tr>
<tr>
<td>&gt; &gt;&#x3D; &#x3D;&#x3D; &lt; &lt;&#x3D;</td>
<td>(1,2,3) &lt; (2,2,3)</td>
<td>True</td>
<td>元素比较</td>
<td>字符串、列表、元组</td>
</tr>
</tbody></table>
<p><strong>元素比较规则</strong>：</p>
<ol>
<li><strong>逐元素比较</strong><ul>
<li>元组比较采用字典序<code>（lexicographical order）</code>规则：     <ul>
<li>从第一个元素开始逐个对比，当且仅当<strong>所有对应位置元素相等</strong>时，才会继续比较下一个元素     </li>
<li>首个不相等元素即决定最终结果</li>
</ul>
</li>
</ul>
</li>
<li><strong>长度对比原则</strong><ul>
<li>仅当前N个元素完全相等时<code>（N为较短元组长度）</code>：     <ul>
<li>长度较短的元组视为更小     </li>
<li>例：<code>(1,2) &lt; (1,2,3)</code> → <code>True</code></li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><h4 id="列表核心特性"><a href="#列表核心特性" class="headerlink" title="列表核心特性"></a>列表核心特性</h4><ol>
<li><p><strong>动态可变性</strong></p>
<ul>
<li>实时修改元素 (O(1)时间复杂度)</li>
<li>自动内存管理 (动态数组实现)</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2025验证案例</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst[<span class="number">1</span>] = <span class="string">&quot;two&quot;</span>  <span class="comment"># [1, &#x27;two&#x27;, 3]</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>异构数据存储</p>
<ul>
<li><p>支持混合类型元素</p>
</li>
<li><p>允许嵌套数据结构</p>
</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">complex_list = [<span class="number">2025</span>, <span class="string">&quot;AI&quot;</span>, [<span class="number">3.14</span>, <span class="literal">True</span>], &#123;<span class="string">&quot;key&quot;</span>: <span class="string">&quot;value&quot;</span>&#125;]</span><br></pre></td></tr></table></figure>



<h4 id="核心操作"><a href="#核心操作" class="headerlink" title="核心操作"></a>核心操作</h4><h5 id="增删操作性能对比"><a href="#增删操作性能对比" class="headerlink" title="增删操作性能对比"></a>增删操作性能对比</h5><table>
<thead>
<tr>
<th>方法</th>
<th>时间复杂度</th>
<th>适用场景</th>
<th>2025优化建议</th>
</tr>
</thead>
<tbody><tr>
<td>append()</td>
<td>O(1)</td>
<td>尾部追加元素</td>
<td>默认首选方法</td>
</tr>
<tr>
<td>insert(0,x)</td>
<td>O(n)</td>
<td>首部插入</td>
<td>改用deque优化</td>
</tr>
<tr>
<td>pop()</td>
<td>O(1)</td>
<td>获取并删除尾部元素</td>
<td>结合异常处理使用</td>
</tr>
<tr>
<td>remove(x)</td>
<td>O(n)</td>
<td>删除首个匹配值</td>
<td>先判断存在性</td>
</tr>
</tbody></table>
<h5 id="查询与切片"><a href="#查询与切片" class="headerlink" title="查询与切片"></a>查询与切片</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 高级切片技巧</span></span><br><span class="line">matrix = [</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">    [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">]</span><br><span class="line"><span class="built_in">print</span>(matrix[<span class="number">1</span>:<span class="number">3</span>][<span class="number">0</span>][::-<span class="number">1</span>])  <span class="comment"># 输出[6,5,4]</span></span><br></pre></td></tr></table></figure>

<h5 id="排序新特性"><a href="#排序新特性" class="headerlink" title="排序新特性"></a>排序新特性</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python 3.13+ 并行排序</span></span><br><span class="line"><span class="keyword">import</span> bisect</span><br><span class="line">data = [<span class="number">5</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">1</span>]</span><br><span class="line">bisect.insort(data, <span class="number">4</span>)  <span class="comment"># 插入后自动保持有序 → [1,2,4,5,8]</span></span><br></pre></td></tr></table></figure>



<h4 id="列表推导式实战"><a href="#列表推导式实战" class="headerlink" title="列表推导式实战"></a>列表推导式实战</h4><h5 id="多维数据处理"><a href="#多维数据处理" class="headerlink" title="多维数据处理"></a>多维数据处理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成5x5矩阵</span></span><br><span class="line">matrix = [[i*<span class="number">5</span> + j <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]</span><br></pre></td></tr></table></figure>

<h5 id="条件过滤优化"><a href="#条件过滤优化" class="headerlink" title="条件过滤优化"></a>条件过滤优化</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 带异常处理的推导式</span></span><br><span class="line">nums = [<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="number">5</span>]</span><br><span class="line">clean = [<span class="built_in">int</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> nums <span class="keyword">if</span> <span class="built_in">isinstance</span>(x, (<span class="built_in">int</span>, <span class="built_in">str</span>)) <span class="keyword">and</span> <span class="built_in">str</span>(x).isdigit()]</span><br></pre></td></tr></table></figure>

<h5 id="海量数据生成器"><a href="#海量数据生成器" class="headerlink" title="海量数据生成器"></a>海量数据生成器</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 内存优化方案（生成器表达式）</span></span><br><span class="line">large_data = (x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>**<span class="number">6</span>) <span class="keyword">if</span> x%<span class="number">3</span> ==<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><h4 id="元组核心特性"><a href="#元组核心特性" class="headerlink" title="元组核心特性"></a>元组核心特性</h4><ol>
<li><p><strong>不可变序列</strong></p>
<ul>
<li><p><strong>内存优化</strong>：固定长度存储，访问速度比列表更快</p>
</li>
<li><p><strong>数据安全</strong>：防止意外修改关键数据</p>
</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">coordinates = (<span class="number">39.9042</span>, <span class="number">116.4074</span>)</span><br><span class="line">coordinates[<span class="number">0</span>] = <span class="number">40</span>  <span class="comment"># 引发TypeError</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>异构数据容器</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person = (<span class="string">&quot;张三&quot;</span>, <span class="number">28</span>, <span class="number">175.5</span>, [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;Java&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(person[<span class="number">3</span>][<span class="number">0</span>])  <span class="comment"># 输出&quot;Python&quot;</span></span><br></pre></td></tr></table></figure>



<h4 id="核心操作-1"><a href="#核心操作-1" class="headerlink" title="核心操作"></a>核心操作</h4><ol>
<li>创建方式对比</li>
</ol>
<table>
<thead>
<tr>
<th>方法</th>
<th>示例</th>
<th>适用场景</th>
</tr>
</thead>
<tbody><tr>
<td>直接赋值</td>
<td><code>t = (1,2,3)</code></td>
<td>显式创建</td>
</tr>
<tr>
<td>单元素声明</td>
<td><code>t = (100,)</code></td>
<td>避免与普通括号混淆</td>
</tr>
<tr>
<td>转换生成</td>
<td><code>tuple([1,2,3])</code></td>
<td>从其他可迭代对象转换</td>
</tr>
<tr>
<td>生成器表达式</td>
<td><code>tuple(x**2 for x in range(5))</code></td>
<td>高效生成大数据</td>
</tr>
</tbody></table>
<ol start="2">
<li>高效访问方法</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解包操作（Python 3.13增强）</span></span><br><span class="line">name, age, *details = (<span class="string">&quot;李四&quot;</span>, <span class="number">30</span>, <span class="number">180</span>, <span class="string">&quot;Engineer&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(details)  <span class="comment"># [180, &#x27;Engineer&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 模式匹配（Python 3.10+）</span></span><br><span class="line"><span class="keyword">match</span> (<span class="string">&quot;A&quot;</span>, <span class="number">2025</span>):</span><br><span class="line">    <span class="keyword">case</span> (_, y) <span class="keyword">if</span> y &gt; <span class="number">2000</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;未来数据: <span class="subst">&#123;y&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="元组方法"><a href="#元组方法" class="headerlink" title="元组方法"></a>元组方法</h5><table>
<thead>
<tr>
<th>方法</th>
<th>时间复杂度</th>
<th>示例</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>count()</td>
<td>O(n)</td>
<td><code>(1,2,2,3).count(2)</code></td>
<td>2</td>
</tr>
<tr>
<td>index()</td>
<td>O(n)</td>
<td><code>(a,b,c).index(&#39;b&#39;)</code></td>
<td>1</td>
</tr>
</tbody></table>
<h3 id="range函数"><a href="#range函数" class="headerlink" title="range函数"></a>range函数</h3><h4 id="基本模式对比"><a href="#基本模式对比" class="headerlink" title="基本模式对比"></a>基本模式对比</h4><table>
<thead>
<tr>
<th>参数形式</th>
<th>等效序列</th>
<th>典型应用场景</th>
</tr>
</thead>
<tbody><tr>
<td><code>range(5)</code></td>
<td>0,1,2,3,4</td>
<td>固定次数循环</td>
</tr>
<tr>
<td><code>range(2,8)</code></td>
<td>2,3,4,5,6,7</td>
<td>指定起止范围</td>
</tr>
<tr>
<td><code>range(1,10,3)</code></td>
<td>1,4,7</td>
<td>非连续数据生成</td>
</tr>
</tbody></table>
<h4 id="最新特性"><a href="#最新特性" class="headerlink" title="最新特性"></a>最新特性</h4><ol>
<li><strong>内存优化</strong>：生成惰性序列（10^6元素仅占48字节）</li>
<li><strong>步长增强</strong>：支持复数步长（Python 3.13+）</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 复数步长生成坐标序列</span></span><br><span class="line">coords = <span class="built_in">range</span>(<span class="number">0</span>+<span class="number">0j</span>, <span class="number">5</span>+<span class="number">5j</span>, <span class="number">1</span>+<span class="number">1j</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(coords))  <span class="comment"># [(0+0j), (1+1j), (2+2j), (3+3j), (4+4j)]</span></span><br></pre></td></tr></table></figure>

<h4 id="进阶应用场景"><a href="#进阶应用场景" class="headerlink" title="进阶应用场景"></a>进阶应用场景</h4><h5 id="逆序生成"><a href="#逆序生成" class="headerlink" title="逆序生成"></a>逆序生成</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>, <span class="number">0</span>, -<span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)  <span class="comment"># 输出10,8,6,4,2</span></span><br></pre></td></tr></table></figure>

<h5 id="浮点数处理（需配合numpy）"><a href="#浮点数处理（需配合numpy）" class="headerlink" title="浮点数处理（需配合numpy）"></a>浮点数处理（需配合numpy）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">float_range = np.arange(<span class="number">1.5</span>, <span class="number">5.5</span>, <span class="number">0.5</span>)  <span class="comment"># [1.5,2.0,2.5,3.0,3.5,4.0,4.5,5.0]</span></span><br></pre></td></tr></table></figure>

<h5 id="边界验证"><a href="#边界验证" class="headerlink" title="边界验证"></a>边界验证</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安全范围检查</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">safe_range</span>(<span class="params">start, end</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">range</span>(<span class="built_in">max</span>(<span class="number">0</span>, start), <span class="built_in">min</span>(<span class="number">1000000</span>, end))</span><br></pre></td></tr></table></figure>

<h4 id="最佳实践指南"><a href="#最佳实践指南" class="headerlink" title="最佳实践指南"></a>最佳实践指南</h4><ol>
<li><p>循环控制</p>
<p>：优先使用</p>
<p><code>for i in range(len(data))</code></p>
<p>而非</p>
<p><code>while</code></p>
</li>
<li><p>序列生成</p>
<p>：大数据场景使用</p>
<p><code>range</code></p>
<p>代替列表推导式</p>
</li>
<li><p>类型转换</p>
<p>：需要具体序列时使用</p>
<p><code>list(range(...))</code></p>
</li>
</ol>
<h4 id="常见错误处理"><a href="#常见错误处理" class="headerlink" title="常见错误处理"></a>常见错误处理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 错误案例：空序列</span></span><br><span class="line">empty = <span class="built_in">range</span>(<span class="number">5</span>, <span class="number">2</span>)  <span class="comment"># 不报错但生成空序列</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正确验证方法</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">range</span>(a, b)) &gt; <span class="number">0</span>:</span><br><span class="line">    do_something()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 步长0异常处理</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    invalid = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>,<span class="number">0</span>)</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;步长不能为0&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><h4 id="数据结构特性"><a href="#数据结构特性" class="headerlink" title="数据结构特性"></a>数据结构特性</h4><table>
<thead>
<tr>
<th>特性</th>
<th>说明</th>
<th>与列表对比优势</th>
</tr>
</thead>
<tbody><tr>
<td>键唯一性</td>
<td>自动覆盖重复键</td>
<td>天然去重机制</td>
</tr>
<tr>
<td>任意值类型</td>
<td>值可以是任意对象</td>
<td>支持复杂嵌套结构</td>
</tr>
<tr>
<td>快速成员检测</td>
<td><code>key in dict</code> 比列表快1000倍</td>
<td>大数据查询优势明显</td>
</tr>
</tbody></table>
<h4 id="核心操作-2"><a href="#核心操作-2" class="headerlink" title="核心操作"></a>核心操作</h4><h5 id="创建方式"><a href="#创建方式" class="headerlink" title="创建方式"></a>创建方式</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 标准创建</span></span><br><span class="line">d1 = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">30</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典推导式（Python 3.13增强）</span></span><br><span class="line">squares = &#123;x: x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>**<span class="number">6</span>) <span class="keyword">if</span> x%<span class="number">2</span> ==<span class="number">0</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类型构造器</span></span><br><span class="line">d2 = <span class="built_in">dict</span>([(<span class="string">&quot;height&quot;</span>, <span class="number">175</span>), (<span class="string">&quot;weight&quot;</span>, <span class="number">68</span>)])</span><br></pre></td></tr></table></figure>



<h5 id="安全访问方法"><a href="#安全访问方法" class="headerlink" title="安全访问方法"></a>安全访问方法</h5><table>
<thead>
<tr>
<th>方法</th>
<th>推荐场景</th>
<th>2025性能基准</th>
</tr>
</thead>
<tbody><tr>
<td>get(key, default)</td>
<td>不确定键是否存在</td>
<td>150ns&#x2F;次</td>
</tr>
<tr>
<td>setdefault(key, def)</td>
<td>需要初始化默认值</td>
<td>180ns&#x2F;次</td>
</tr>
<tr>
<td>try-except</td>
<td>高频访问已知存在的键</td>
<td>120ns&#x2F;次</td>
</tr>
</tbody></table>
<ul>
<li>get(key, default) 方法：主要用于确认键是否存在</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">user_config = &#123;<span class="string">&quot;theme&quot;</span>: <span class="string">&quot;dark&quot;</span>, <span class="string">&quot;font_size&quot;</span>: <span class="number">14</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安全获取配置项，不存在时返回默认值</span></span><br><span class="line">timeout = user_config.get(<span class="string">&quot;request_timeout&quot;</span>, <span class="number">30</span>)  <span class="comment"># 返回30</span></span><br><span class="line">notifications = user_config.get(<span class="string">&quot;notifications&quot;</span>, <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 合并操作符 |（Python 3.9+）</span></span><br><span class="line">config = &#123;<span class="string">&quot;mode&quot;</span>: <span class="string">&quot;prod&quot;</span>&#125; | &#123;<span class="string">&quot;debug&quot;</span>: <span class="literal">False</span>&#125;  <span class="comment"># &#123;&#x27;mode&#x27;:&#x27;prod&#x27;, &#x27;debug&#x27;:False&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 批量更新</span></span><br><span class="line">d.update([(<span class="string">&quot;temp&quot;</span>, <span class="number">26</span>), (<span class="string">&quot;humidity&quot;</span>, <span class="number">65</span>)])</span><br></pre></td></tr></table></figure>

<ul>
<li>setdefault(key, def) 方法：主要用于初始化字典</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 词频统计应用</span></span><br><span class="line">text = <span class="string">&quot;apple banana apple cherry banana apple&quot;</span></span><br><span class="line">word_counts = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> text.split():</span><br><span class="line">    word_counts.setdefault(word, <span class="number">0</span>)  <span class="comment"># 初始化计数器</span></span><br><span class="line">    word_counts[word] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(word_counts)</span><br><span class="line"><span class="comment"># 输出：&#123;&#x27;apple&#x27;:3, &#x27;banana&#x27;:2, &#x27;cherry&#x27;:1&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>try-except 模式：主要用于高频访问已知存在的键</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实时交易系统（Python 3.13优化版）</span></span><br><span class="line">price_data = &#123;</span><br><span class="line">    <span class="string">&quot;AAPL&quot;</span>: <span class="number">189.3</span>, </span><br><span class="line">    <span class="string">&quot;TSLA&quot;</span>: <span class="number">245.6</span>,</span><br><span class="line">    <span class="string">&quot;NVDA&quot;</span>: <span class="number">675.2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_price</span>(<span class="params">symbol</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> price_data[symbol] * <span class="number">1.001</span>  <span class="comment"># 含手续费</span></span><br><span class="line">    <span class="keyword">except</span> KeyError:</span><br><span class="line">        log_error(<span class="string">f&quot;无效股票代码: <span class="subst">&#123;symbol&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 高频调用验证（已知存在的键）</span></span><br><span class="line">%timeit -n <span class="number">1000000</span> get_price(<span class="string">&quot;AAPL&quot;</span>)</span><br><span class="line"><span class="comment"># 输出：118 ns ± 1.8 ns per loop</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误处理效率对比</span></span><br><span class="line">%timeit -n <span class="number">1000000</span> price_data.get(<span class="string">&quot;INVALID&quot;</span>, <span class="number">0</span>)  <span class="comment"># 210 ns</span></span><br><span class="line">%timeit -n <span class="number">1000000</span> <span class="keyword">try</span>-<span class="keyword">except</span>方式处理错误      <span class="comment"># 仅触发时耗时</span></span><br></pre></td></tr></table></figure>

<h5 id="字典循环"><a href="#字典循环" class="headerlink" title="字典循环"></a>字典循环</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="string">&quot;city&quot;</span>: <span class="string">&quot;New York&quot;</span>,</span><br><span class="line">    <span class="string">&quot;has_job&quot;</span>: <span class="literal">False</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> dict1.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;键：<span class="subst">&#123;k&#125;</span>,值：<span class="subst">&#123;v&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="高级应用技巧"><a href="#高级应用技巧" class="headerlink" title="高级应用技巧"></a>高级应用技巧</h4><h5 id="嵌套字典处理"><a href="#嵌套字典处理" class="headerlink" title="嵌套字典处理"></a>嵌套字典处理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多层结构</span></span><br><span class="line">employees = &#123;</span><br><span class="line">    <span class="number">1001</span>: &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;王伟&quot;</span>, <span class="string">&quot;dept&quot;</span>: <span class="string">&quot;研发&quot;</span>, <span class="string">&quot;skills&quot;</span>: [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;AI&quot;</span>]&#125;,</span><br><span class="line">    <span class="number">1002</span>: &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;李娜&quot;</span>, <span class="string">&quot;dept&quot;</span>: <span class="string">&quot;市场&quot;</span>, <span class="string">&quot;projects&quot;</span>: &#123;<span class="string">&quot;2024&quot;</span>: <span class="number">3</span>, <span class="string">&quot;2025&quot;</span>: <span class="number">5</span>&#125;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安全访问链</span></span><br><span class="line"><span class="built_in">print</span>(employees.get(<span class="number">1002</span>, &#123;&#125;).get(<span class="string">&quot;projects&quot;</span>, &#123;&#125;).get(<span class="string">&quot;2025&quot;</span>))  <span class="comment"># 5</span></span><br></pre></td></tr></table></figure>



<h5 id="字典视图对象"><a href="#字典视图对象" class="headerlink" title="字典视图对象"></a>字典视图对象</h5><table>
<thead>
<tr>
<th>视图类型</th>
<th>特性</th>
<th>典型应用场景</th>
</tr>
</thead>
<tbody><tr>
<td>keys()</td>
<td>动态键视图</td>
<td>实时监控字典变化</td>
</tr>
<tr>
<td>values()</td>
<td>值集合视图</td>
<td>数据统计分析</td>
</tr>
<tr>
<td>items()</td>
<td>(键,值)对视图</td>
<td>高效迭代操作</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 内存高效迭代</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</span><br><span class="line">    process_data(k, v)</span><br></pre></td></tr></table></figure>



<h4 id="2025最佳实践"><a href="#2025最佳实践" class="headerlink" title="2025最佳实践"></a>2025最佳实践</h4><h5 id="类型标注规范"><a href="#类型标注规范" class="headerlink" title="类型标注规范"></a>类型标注规范</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Dict</span>, <span class="type">Union</span></span><br><span class="line">UserProfile = <span class="type">Dict</span>[<span class="built_in">str</span>, <span class="type">Union</span>[<span class="built_in">str</span>, <span class="built_in">int</span>, <span class="built_in">list</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">validate_profile</span>(<span class="params">data: UserProfile</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;name&quot;</span> <span class="keyword">in</span> data <span class="keyword">and</span> <span class="string">&quot;age&quot;</span> <span class="keyword">in</span> data</span><br></pre></td></tr></table></figure>

<h5 id="并发安全模式"><a href="#并发安全模式" class="headerlink" title="并发安全模式"></a>并发安全模式</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用collections.ChainMap</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> ChainMap</span><br><span class="line">safe_config = ChainMap(user_settings, default_settings)</span><br></pre></td></tr></table></figure>

<h5 id="内存优化方案"><a href="#内存优化方案" class="headerlink" title="内存优化方案"></a>内存优化方案</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用__slots__的字典子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OptimizedDict</span>(<span class="title class_ inherited__">dict</span>):</span><br><span class="line">    __slots__ = ()</span><br><span class="line">    <span class="comment"># 节省每个实例的内存开销（Python 3.13+）</span></span><br></pre></td></tr></table></figure>



<h3 id="可变与不可变数据类型"><a href="#可变与不可变数据类型" class="headerlink" title="可变与不可变数据类型"></a>可变与不可变数据类型</h3><table>
<thead>
<tr>
<th>类别</th>
<th>具体类型</th>
<th>内存特性</th>
<th>典型场景</th>
</tr>
</thead>
<tbody><tr>
<td><strong>不可变类型</strong></td>
<td>整型(int)</td>
<td>修改时重建对象</td>
<td>计数器、ID值</td>
</tr>
<tr>
<td></td>
<td>浮点型(float)</td>
<td>内存地址随值改变</td>
<td>科学计算</td>
</tr>
<tr>
<td></td>
<td>复数(complex)</td>
<td>值变化即新建对象</td>
<td>信号处理</td>
</tr>
<tr>
<td></td>
<td>字符串(str)</td>
<td>拼接操作生成新字符串</td>
<td>文本处理</td>
</tr>
<tr>
<td></td>
<td>元组(tuple)</td>
<td>元素引用不可变</td>
<td>数据库记录</td>
</tr>
<tr>
<td></td>
<td>冻结集合(frozenset)</td>
<td>哈希安全集合</td>
<td>字典键值</td>
</tr>
<tr>
<td></td>
<td>字节(bytes)</td>
<td>二进制不可变序列</td>
<td>网络传输</td>
</tr>
<tr>
<td><strong>可变类型</strong></td>
<td>列表(list)</td>
<td>动态数组，支持增删改</td>
<td>数据集合操作</td>
</tr>
<tr>
<td></td>
<td>字典(dict)</td>
<td>哈希表结构可动态扩展</td>
<td>键值映射存储</td>
</tr>
<tr>
<td></td>
<td>集合(set)</td>
<td>基于哈希表的无序集合</td>
<td>去重操作</td>
</tr>
</tbody></table>
<h1 id="Python进阶"><a href="#Python进阶" class="headerlink" title="Python进阶"></a>Python进阶</h1><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><h3 id="基础语法结构"><a href="#基础语法结构" class="headerlink" title="基础语法结构"></a>基础语法结构</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 可能引发异常的代码</span></span><br><span class="line">    result = <span class="number">10</span> / <span class="number">0</span></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;错误捕获：<span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;正常执行时运行&quot;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;无论是否异常都执行&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="进阶处理技巧"><a href="#进阶处理技巧" class="headerlink" title="进阶处理技巧"></a>进阶处理技巧</h3><h4 id="多异常捕获"><a href="#多异常捕获" class="headerlink" title="多异常捕获"></a>多异常捕获</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    user_input = <span class="built_in">int</span>(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> (ValueError, TypeError) <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;输入类型错误：<span class="subst">&#123;e.__class__.__name__&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="异常上下文保留"><a href="#异常上下文保留" class="headerlink" title="异常上下文保留"></a>异常上下文保留</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">open</span>(<span class="string">&quot;non_exist.txt&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> FileNotFoundError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="keyword">raise</span> RuntimeError(<span class="string">&quot;文件操作失败&quot;</span>) <span class="keyword">from</span> e</span><br></pre></td></tr></table></figure>



<h4 id="资源自动管理"><a href="#资源自动管理" class="headerlink" title="资源自动管理"></a>资源自动管理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;data.txt&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    content = f.read()  <span class="comment"># 自动处理文件关闭</span></span><br></pre></td></tr></table></figure>



<h4 id="raise关键字"><a href="#raise关键字" class="headerlink" title="raise关键字"></a>raise关键字</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    a = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;Enter a number: &quot;</span>))</span><br><span class="line">    b = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;Enter another number: &quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(a/b)</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Invalid input&quot;</span>)  <span class="comment"># 控制台输出Invalid input</span></span><br><span class="line">    <span class="keyword">raise</span></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">&quot;Cannot divide by zero&quot;</span>)  <span class="comment"># 控制台输出Cannot divide by zero</span></span><br></pre></td></tr></table></figure>



<h3 id="异常类型全景图"><a href="#异常类型全景图" class="headerlink" title="异常类型全景图"></a>异常类型全景图</h3><h4 id="内置异常体系"><a href="#内置异常体系" class="headerlink" title="内置异常体系"></a>内置异常体系</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">BaseException</span><br><span class="line"> ├── SystemExit</span><br><span class="line"> ├── KeyboardInterrupt</span><br><span class="line"> ├── Exception</span><br><span class="line"> │    ├── ValueError</span><br><span class="line"> │    ├── TypeError</span><br><span class="line"> │    ├── FileNotFoundError</span><br><span class="line"> │    └── 40+其他异常...</span><br></pre></td></tr></table></figure>

<h4 id="高频异常说明"><a href="#高频异常说明" class="headerlink" title="高频异常说明"></a>高频异常说明</h4><table>
<thead>
<tr>
<th>异常类型</th>
<th>触发场景</th>
<th>最新解决方案</th>
</tr>
</thead>
<tbody><tr>
<td>ValueError</td>
<td>无效参数转换</td>
<td>增强数据校验</td>
</tr>
<tr>
<td>KeyError</td>
<td>字典键不存在</td>
<td>使用get()方法</td>
</tr>
<tr>
<td>IndexError</td>
<td>序列越界访问</td>
<td>预检查长度</td>
</tr>
<tr>
<td>TypeError</td>
<td>类型操作不兼容</td>
<td>添加类型注解</td>
</tr>
</tbody></table>
<h3 id="自定义异常开发"><a href="#自定义异常开发" class="headerlink" title="自定义异常开发"></a>自定义异常开发</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PasswordStrengthError</span>(<span class="title class_ inherited__">Exception</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;2025密码安全标准异常&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, length</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="string">f&quot;密码长度不足8位（当前：<span class="subst">&#123;length&#125;</span>）&quot;</span>)</span><br><span class="line">        self.required_length = <span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用示例</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(input_pwd) &lt; <span class="number">8</span>:</span><br><span class="line">        <span class="keyword">raise</span> PasswordStrengthError(<span class="built_in">len</span>(input_pwd))</span><br><span class="line"><span class="keyword">except</span> PasswordStrengthError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;安全告警：<span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>基于Java学习Python函数，其中的差异如下表所示</p>
<h3 id="核心差异"><a href="#核心差异" class="headerlink" title="核心差异"></a>核心差异</h3><table>
<thead>
<tr>
<th>特性</th>
<th>Java (21+)</th>
<th>Python (3.13)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>定义方式</strong></td>
<td>必须声明在类中</td>
<td>独立定义，支持嵌套函数</td>
</tr>
<tr>
<td><strong>参数传递</strong></td>
<td>值传递（对象传引用副本）</td>
<td>引用传递（直接操作原对象）</td>
</tr>
<tr>
<td><strong>返回值</strong></td>
<td>必须显式return+类型声明</td>
<td>可隐式返回&#x2F;多返回值</td>
</tr>
<tr>
<td><strong>变量作用域</strong></td>
<td>块级作用域</td>
<td>函数级作用域+global声明</td>
</tr>
<tr>
<td><strong>类型系统</strong></td>
<td>静态类型</td>
<td>动态类型</td>
</tr>
<tr>
<td><strong>高阶函数支持</strong></td>
<td>Stream API&#x2F;Lambda</td>
<td>一等公民，原生支持</td>
</tr>
</tbody></table>
<h4 id="Java方法定义"><a href="#Java方法定义" class="headerlink" title="Java方法定义"></a>Java方法定义</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 必须包含在类中</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="comment">// 显式返回类型</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Python函数定义"><a href="#Python函数定义" class="headerlink" title="Python函数定义"></a>Python函数定义</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 独立函数定义（2023新增类型提示）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a: <span class="built_in">int</span>, b: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多返回值示例</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_user</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Alice&quot;</span>, <span class="number">25</span>, <span class="string">&quot;alice@example.com&quot;</span>  <span class="comment"># 返回元组</span></span><br></pre></td></tr></table></figure>



<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><h4 id="Java值传递示例"><a href="#Java值传递示例" class="headerlink" title="Java值传递示例"></a>Java值传递示例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">modifyList</span><span class="params">(List&lt;String&gt; list)</span> &#123;</span><br><span class="line">    list.add(<span class="string">&quot;new&quot;</span>);  <span class="comment">// 修改引用副本指向的对象</span></span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  <span class="comment">// 不影响原始引用</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    List&lt;String&gt; data = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    modifyList(data);</span><br><span class="line">    System.out.println(data);  <span class="comment">// 输出 [new]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Python引用传递示例"><a href="#Python引用传递示例" class="headerlink" title="Python引用传递示例"></a>Python引用传递示例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">modify_list</span>(<span class="params">lst</span>):</span><br><span class="line">    lst.append(<span class="string">&quot;new&quot;</span>)    <span class="comment"># 修改原列表</span></span><br><span class="line">    lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]      <span class="comment"># 新建局部变量</span></span><br><span class="line"></span><br><span class="line">data = []</span><br><span class="line">modify_list(data)</span><br><span class="line"><span class="built_in">print</span>(data)  <span class="comment"># 输出 [&#x27;new&#x27;]</span></span><br></pre></td></tr></table></figure>



<h4 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_scores</span>(<span class="params">name: <span class="built_in">str</span>, *scores, **course_info</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    计算学生成绩的多种统计值</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    参数：</span></span><br><span class="line"><span class="string">        name - 学生姓名（固定参数）</span></span><br><span class="line"><span class="string">        *scores - 任意数量的考试成绩（可变位置参数）</span></span><br><span class="line"><span class="string">        **course_info - 课程相关信息（可变关键字参数）</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    total = <span class="built_in">sum</span>(scores)</span><br><span class="line">    avg = total / <span class="built_in">len</span>(scores) <span class="keyword">if</span> scores <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;name&#125;</span>：&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;▪ 共参加 <span class="subst">&#123;<span class="built_in">len</span>(scores)&#125;</span> 门考试&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;▪ 总分：<span class="subst">&#123;total&#125;</span> 平均分：<span class="subst">&#123;avg:<span class="number">.1</span>f&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> course_info:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;课程详情：&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> key, value <span class="keyword">in</span> course_info.items():</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;  - <span class="subst">&#123;key&#125;</span>: <span class="subst">&#123;value&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">calculate_scores(<span class="string">&quot;John&quot;</span>, <span class="number">80</span>, <span class="number">95</span>, <span class="number">72</span>, <span class="number">88</span>, <span class="number">100</span>,</span><br><span class="line">                  math=<span class="number">90</span>, english=<span class="number">85</span>, science=<span class="number">100</span>)</span><br></pre></td></tr></table></figure>



<h4 id="缺省参数（默认参数）"><a href="#缺省参数（默认参数）" class="headerlink" title="缺省参数（默认参数）"></a>缺省参数（默认参数）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register_user</span>(<span class="params"></span></span><br><span class="line"><span class="params">        name: <span class="built_in">str</span>,</span></span><br><span class="line"><span class="params">        age: <span class="built_in">int</span>,</span></span><br><span class="line"><span class="params">        city: <span class="built_in">str</span> = <span class="string">&quot;北京&quot;</span>,  <span class="comment"># 缺省参数（2025最新推荐写法）</span></span></span><br><span class="line"><span class="params">        membership: <span class="built_in">bool</span> = <span class="literal">False</span></span></span><br><span class="line"><span class="params"></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    用户注册函数（支持缺省参数）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    参数：</span></span><br><span class="line"><span class="string">        name - 必填姓名（位置参数）</span></span><br><span class="line"><span class="string">        age  - 必填年龄（位置参数）</span></span><br><span class="line"><span class="string">        city - 居住城市（默认北京）</span></span><br><span class="line"><span class="string">        membership - 会员状态（默认非会员）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    返回：</span></span><br><span class="line"><span class="string">        包含完整用户信息的字典</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: name,</span><br><span class="line">        <span class="string">&quot;age&quot;</span>: age,</span><br><span class="line">        <span class="string">&quot;city&quot;</span>: city,</span><br><span class="line">        <span class="string">&quot;vip&quot;</span>: membership,</span><br><span class="line">        <span class="string">&quot;reg_date&quot;</span>: <span class="string">&quot;2025-04-10&quot;</span>  <span class="comment"># 模拟注册时间</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;案例1：使用所有默认值&quot;</span>)</span><br><span class="line">user1 = register_user(<span class="string">&quot;张三&quot;</span>, <span class="number">25</span>)</span><br><span class="line"><span class="built_in">print</span>(user1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n案例2：覆盖部分默认参数&quot;</span>)</span><br><span class="line">user2 = register_user(<span class="string">&quot;李四&quot;</span>, <span class="number">30</span>, city=<span class="string">&quot;上海&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(user2)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n案例3：跳过默认参数指定&quot;</span>)</span><br><span class="line">user3 = register_user(<span class="string">&quot;王五&quot;</span>, <span class="number">28</span>, membership=<span class="literal">True</span>)  <span class="comment"># 显式使用参数名</span></span><br><span class="line"><span class="built_in">print</span>(user3)</span><br></pre></td></tr></table></figure>



<h3 id="作用域差异"><a href="#作用域差异" class="headerlink" title="作用域差异"></a>作用域差异</h3><h4 id="Java块级作用域"><a href="#Java块级作用域" class="headerlink" title="Java块级作用域"></a>Java块级作用域</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">demoScope</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">20</span>;  <span class="comment">// 仅在此块内有效</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// System.out.println(y); 编译错误</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Python函数级作用域"><a href="#Python函数级作用域" class="headerlink" title="Python函数级作用域"></a>Python函数级作用域</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">demo_scope</span>():</span><br><span class="line">    x = <span class="number">10</span></span><br><span class="line">    <span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line">        y = <span class="number">20</span>  <span class="comment"># 整个函数可见</span></span><br><span class="line">    <span class="built_in">print</span>(y)  <span class="comment"># 正常输出20</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 全局变量处理</span></span><br><span class="line">total = <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">increment</span>():</span><br><span class="line">    <span class="keyword">global</span> total</span><br><span class="line">    total += <span class="number">1</span></span><br></pre></td></tr></table></figure>



<h4 id="更详细的案例"><a href="#更详细的案例" class="headerlink" title="更详细的案例"></a>更详细的案例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局作用域变量</span></span><br><span class="line">global_x = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">modify_global_without_keyword</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;⚠️ 危险操作：尝试修改全局变量未声明global&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 此处会创建新的局部变量，导致后续访问全局变量失败</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[错误尝试] 试图访问全局变量:&quot;</span>, global_x)  <span class="comment"># 会触发UnboundLocalError</span></span><br><span class="line">    global_x = <span class="number">50</span>  <span class="comment"># 实际创建新的局部变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show_local_scope</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;✅ 正确局部变量使用&quot;&quot;&quot;</span></span><br><span class="line">    local_y = <span class="number">20</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[局部变量] 函数内访问:&quot;</span>, local_y)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 代码块内的变量提升</span></span><br><span class="line">    <span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line">        block_z = <span class="number">30</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[代码块变量] 跨块访问:&quot;</span>, block_z)  <span class="comment"># 仍然可见</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">safely_modify_global</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;✅ 正确修改全局变量&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">global</span> global_x  <span class="comment"># 明确声明</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[修改前] 全局变量值:&quot;</span>, global_x)</span><br><span class="line">    global_x = <span class="number">50</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[修改后] 全局变量值:&quot;</span>, global_x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始状态验证</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;[初始状态] 全局变量:&quot;</span>, global_x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误操作演示</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    modify_global_without_keyword()</span><br><span class="line"><span class="keyword">except</span> UnboundLocalError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;❌ 错误捕获：<span class="subst">&#123;<span class="built_in">type</span>(e).__name__&#125;</span> - 未声明global时不能修改全局变量&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[安全恢复] 全局变量保持原值:&quot;</span>, global_x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 局部变量访问测试</span></span><br><span class="line">show_local_scope()</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[危险操作] 尝试访问局部变量:&quot;</span>, local_y)</span><br><span class="line"><span class="keyword">except</span> NameError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;❌ 错误捕获：<span class="subst">&#123;<span class="built_in">type</span>(e).__name__&#125;</span> - 局部变量不可外部访问&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 正确修改全局变量</span></span><br><span class="line">safely_modify_global()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;[最终验证] 全局变量最新值:&quot;</span>, global_x)</span><br></pre></td></tr></table></figure>



<h3 id="类型系统实战"><a href="#类型系统实战" class="headerlink" title="类型系统实战"></a>类型系统实战</h3><h4 id="Java强类型示例"><a href="#Java强类型示例" class="headerlink" title="Java强类型示例"></a>Java强类型示例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 编译时类型检查</span></span><br><span class="line">String <span class="title function_">concat</span><span class="params">(String a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;  <span class="comment">// 自动转换b为String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Python动态类型示例"><a href="#Python动态类型示例" class="headerlink" title="Python动态类型示例"></a>Python动态类型示例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">concat</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>(a) + <span class="built_in">str</span>(b)  <span class="comment"># 运行时处理类型</span></span><br><span class="line"></span><br><span class="line">concat(<span class="string">&quot;num&quot;</span>, <span class="number">25</span>)     <span class="comment"># 正常返回&quot;num25&quot;</span></span><br><span class="line">concat([<span class="number">1</span>,<span class="number">2</span>], &#123;<span class="string">&quot;k&quot;</span>:<span class="string">&quot;v&quot;</span>&#125;)  <span class="comment"># 返回 &quot;[1, 2]&#123;&#x27;k&#x27;: &#x27;v&#x27;&#125;&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="匿名函数（Lambda）"><a href="#匿名函数（Lambda）" class="headerlink" title="匿名函数（Lambda）"></a>匿名函数（Lambda）</h3><h4 id="Java-Stream-API"><a href="#Java-Stream-API" class="headerlink" title="Java Stream API"></a>Java Stream API</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; nums = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">List&lt;Integer&gt; doubled = nums.stream()</span><br><span class="line">                           .map(n -&gt; n * <span class="number">2</span>)</span><br><span class="line">                           .collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<h4 id="Python原生支持"><a href="#Python原生支持" class="headerlink" title="Python原生支持"></a>Python原生支持</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Lambda表达式</span></span><br><span class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">doubled = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x*<span class="number">2</span>, nums))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数作为参数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">apply_operation</span>(<span class="params">func, data</span>):</span><br><span class="line">    <span class="keyword">return</span> [func(x) <span class="keyword">for</span> x <span class="keyword">in</span> data]</span><br><span class="line"></span><br><span class="line">apply_operation(<span class="keyword">lambda</span> x: x**<span class="number">3</span>, nums)  <span class="comment"># 返回[1, 8, 27]</span></span><br></pre></td></tr></table></figure>

<p>注意：<font color="red">原生的Python中Lambda表达式并不能指定返回值的数据类型，需要引入Callable库，具体方法如下所示：</font></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Callable</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过变量注解实现类型声明</span></span><br><span class="line">add: <span class="type">Callable</span>[[<span class="built_in">int</span>, <span class="built_in">int</span>], <span class="built_in">int</span>] = <span class="keyword">lambda</span> x, y: x + y	<span class="comment"># [int,int]表示的是参数的数据类型，最后一个int表示的是返回值的数据类型</span></span><br></pre></td></tr></table></figure>



<h3 id="函数递归"><a href="#函数递归" class="headerlink" title="函数递归"></a>函数递归</h3><h4 id="递归核心概念"><a href="#递归核心概念" class="headerlink" title="递归核心概念"></a>递归核心概念</h4><p>递归 &#x3D; 递去（分解问题） + 归来（组合结果）<br><em>必要条件</em>：必须存在终止条件，且每次递归都更接近终止条件</p>
<h4 id="经典案例"><a href="#经典案例" class="headerlink" title="经典案例"></a>经典案例</h4><p>数字累加：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sum_num</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:  <span class="comment"># 终止条件</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> n + sum_num(n-<span class="number">1</span>)  <span class="comment"># 递推关系</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sum_num(<span class="number">5</span>))  <span class="comment"># 输出：15（计算5+4+3+2+1）</span></span><br></pre></td></tr></table></figure>

<p>文件树遍历：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scan_dir</span>(<span class="params">path, level=<span class="number">0</span></span>):</span><br><span class="line">    <span class="comment"># 打印当前目录（缩进表示层级）</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;  &#x27;</span> * level + <span class="string">&#x27;📁 &#x27;</span> + os.path.basename(path))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> os.listdir(path):</span><br><span class="line">        full_path = os.path.join(path, item)</span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(full_path):  <span class="comment"># 如果是文件夹</span></span><br><span class="line">            scan_dir(full_path, level+<span class="number">1</span>)  <span class="comment"># 递归扫描子目录</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;  &#x27;</span> * (level+<span class="number">1</span>) + <span class="string">&#x27;📄 &#x27;</span> + item)  <span class="comment"># 打印文件</span></span><br><span class="line"></span><br><span class="line">scan_dir(<span class="string">&#x27;/user/docs&#x27;</span>)  <span class="comment"># 示例路径</span></span><br></pre></td></tr></table></figure>



<h3 id="最佳迁移实践"><a href="#最佳迁移实践" class="headerlink" title="最佳迁移实践"></a>最佳迁移实践</h3><ol>
<li><p><strong>参数设计原则</strong></p>
<ul>
<li>优先使用不可变类型作为参数（tuple代替list）</li>
<li>慎用可变默认参数（Python经典陷阱）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 错误示例</span><br><span class="line">def add_item(item, lst=[]):</span><br><span class="line">    lst.append(item)</span><br><span class="line">    return lst</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>类型提示规范（2025推荐）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from typing import Union</span><br><span class="line"></span><br><span class="line">def parse_input(input: Union[str, int]) -&gt; float:</span><br><span class="line">    return float(input)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>异常处理结合</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def safe_divide(x: float, y: float) -&gt; float:</span><br><span class="line">    try:</span><br><span class="line">        return x / y</span><br><span class="line">    except ZeroDivisionError as e:</span><br><span class="line">        raise ValueError(&quot;除数不能为零&quot;) from e</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="学习路线建议"><a href="#学习路线建议" class="headerlink" title="学习路线建议"></a>学习路线建议</h3><ol>
<li><p>先掌握</p>
<p><code>def</code></p>
<p>定义和参数传递机制</p>
</li>
<li><p>重点理解可变&#x2F;不可变对象在函数中的表现</p>
</li>
<li><p>熟练使用</p>
<p><code>*args</code></p>
<p>和</p>
<p><code>**kwargs</code></p>
<p>参数</p>
</li>
<li><p>掌握装饰器语法（Java无直接对应特性）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">log_time</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        start = time.time()</span><br><span class="line">        result = func(*args, **kwargs)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;耗时：<span class="subst">&#123;time.time()-start:<span class="number">.4</span>f&#125;</span>s&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="常用内置函数"><a href="#常用内置函数" class="headerlink" title="常用内置函数"></a>常用内置函数</h2><p>下表来自B站尚硅谷：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>abs()</td>
<td>对传入参数取绝对值</td>
</tr>
<tr>
<td>bool()</td>
<td>对传入参数取布尔值，[None, 0, “”, [], {}, ()]像这种空值或空容器均为False</td>
</tr>
<tr>
<td>all()</td>
<td>所有传入参数为真时，返回值才为真</td>
</tr>
<tr>
<td>any()</td>
<td>所有传入的参数只要有一个为真，返回值就是真</td>
</tr>
<tr>
<td>ascii()</td>
<td>自动执行传入参数的_repr_方法（将对象转换为字符串）</td>
</tr>
<tr>
<td>bin()</td>
<td>接受一个十进制，转换为二进制</td>
</tr>
<tr>
<td>oct()</td>
<td>接受一个十进制，转换为八进制</td>
</tr>
<tr>
<td>hex()</td>
<td>接受一个十进制，转换为十六进制</td>
</tr>
<tr>
<td>bytes()</td>
<td>字符串转换为字节。第一个参数：需要转换的字符串；第二个参数：指定转换的编码格式</td>
</tr>
<tr>
<td>str()</td>
<td>字节转换为字符串。第一个参数：需要转换的字节；第二个参数：指定转换的编码格式</td>
</tr>
<tr>
<td>chr(65)</td>
<td>数字转字母，具体可以按照ASCII码表</td>
</tr>
<tr>
<td>ord(‘A’)</td>
<td>字母转数字，具体可以按照ASCII码表</td>
</tr>
<tr>
<td>compile()</td>
<td>接受.py文件或字符串作为传入参数，将其编译成python字节码</td>
</tr>
<tr>
<td>eval()</td>
<td>执行python代码，并返回其执行结果</td>
</tr>
<tr>
<td>exec()</td>
<td>执行python代码（可以是编译过的，也可以是未编译的），没有返回结果（结果None）</td>
</tr>
<tr>
<td>dir()</td>
<td>接受对象为参数，返回该对象的所有属性和方法</td>
</tr>
<tr>
<td>help()</td>
<td>接受对象作为参数，更详细地返回该对象的所有属性和方法</td>
</tr>
<tr>
<td>divmod(100,10)</td>
<td>返回一个元组<code>(10,0)</code>，第一个元素为的<code>100/10</code>的商，第二个元素为<code>100/10</code>的余数</td>
</tr>
<tr>
<td>enumerate()</td>
<td>接收序列化类型的数据，返回一个迭代器（对象）</td>
</tr>
<tr>
<td>isinstance(object,class)</td>
<td>判断对象是否是某个类的实例</td>
</tr>
<tr>
<td>filter()</td>
<td>后续有详细介绍</td>
</tr>
<tr>
<td>map()</td>
<td>后续有详细介绍</td>
</tr>
<tr>
<td>format()</td>
<td>字符串格式化</td>
</tr>
<tr>
<td>frozenset()</td>
<td>转换为不可变的集合</td>
</tr>
<tr>
<td>globals()</td>
<td>返回一个字典，包括所有的全局变量与该变量的值所组成的键值对</td>
</tr>
<tr>
<td>locals()</td>
<td>返回一个字典，包括所有的局部变量与该变量的值所组成的键值对</td>
</tr>
<tr>
<td>hash()</td>
<td>对传入参数取哈希值并返回</td>
</tr>
<tr>
<td>id()</td>
<td>返回内存地址</td>
</tr>
<tr>
<td>input(‘please input:’)</td>
<td>提示用户输入，返回用户输入的内容（无论用户输入任何内容，最后的数据类型都为字符串）</td>
</tr>
<tr>
<td>issubclass(subclass,class)</td>
<td>查看这个类是否是另一个类的派生类，如果是返回True，否则返回False</td>
</tr>
<tr>
<td>len()</td>
<td>返回长度</td>
</tr>
<tr>
<td>max()</td>
<td>接收序列化类型数据，返回其中最大的元素</td>
</tr>
<tr>
<td>min()</td>
<td>接收序列化类型数据，返回其中最小的元素</td>
</tr>
<tr>
<td>memoryview()</td>
<td>查看内存地址</td>
</tr>
<tr>
<td>next()</td>
<td>获取迭代器下一个元素</td>
</tr>
<tr>
<td>iter()</td>
<td>创建迭代器对象</td>
</tr>
<tr>
<td>object()</td>
<td>创建基础对象实例</td>
</tr>
<tr>
<td>pow(x,y)</td>
<td>求次方，返回x**y的结果</td>
</tr>
<tr>
<td>pow(x,y,z)</td>
<td>返回x**y%z的结果</td>
</tr>
<tr>
<td>property()</td>
<td>获取对象的所有属性</td>
</tr>
<tr>
<td>range()</td>
<td>获取范围数</td>
</tr>
<tr>
<td>repr()</td>
<td>执行传入对象的_repr_方法</td>
</tr>
<tr>
<td>reversed()</td>
<td>对序列化数据反向排序，返回一个新的对象。注意与对象的reverse方法区别，后者是就地改变对象</td>
</tr>
<tr>
<td>sorted()</td>
<td>对序列化类型数据正向排序，返回一个新的对象。注意与对象的sort方法区别，后者是就地改变对象</td>
</tr>
<tr>
<td>slice()</td>
<td>对序列化类型数据切片，返回一个新的对象</td>
</tr>
</tbody></table>
<h3 id="map函数"><a href="#map函数" class="headerlink" title="map函数"></a>map函数</h3><p><strong>基础语法</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span>(function, iterable, *iterables) -&gt; <span class="built_in">map</span> <span class="built_in">object</span></span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ul>
<li>第一个参数：用于处理第二个参数的函数</li>
<li>第二个参数：可遍历的原始数据</li>
<li>第三个参数：额外的可遍历原始数据</li>
</ul>
<p><strong>示例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">preprocess_01</span>(<span class="params">data: <span class="built_in">list</span></span>) -&gt; <span class="built_in">map</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">map</span>(<span class="keyword">lambda</span> x: x * <span class="number">1.5</span>, <span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x&gt;<span class="number">0</span>, data))</span><br><span class="line"></span><br><span class="line">list_01 = [<span class="number">0</span>,-<span class="number">1</span>,<span class="number">2</span>,-<span class="number">3</span>,<span class="number">4</span>,-<span class="number">5</span>,<span class="number">6</span>,-<span class="number">7</span>,<span class="number">8</span>,-<span class="number">9</span>]</span><br><span class="line">after_process_01 = preprocess_01(list_01)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(after_process_01))  <span class="comment"># [3.0, 6.0, 9.0, 12.0]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">preprocess_02</span>(<span class="params">data_1: <span class="built_in">list</span>, data_2: <span class="built_in">list</span></span>) -&gt; <span class="built_in">map</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">map</span>(<span class="keyword">lambda</span> x,y: x * <span class="number">1.5</span> + y * <span class="number">2.5</span>, <span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x&gt;<span class="number">0</span>, data_1), <span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x&lt;<span class="number">0</span>, data_2))</span><br><span class="line">list_02 = [<span class="number">0</span>, <span class="number">1</span>, -<span class="number">2</span>, <span class="number">3</span>, -<span class="number">4</span>, <span class="number">5</span>, -<span class="number">6</span>, <span class="number">7</span>, -<span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">after_process_02 = preprocess_02(list_01,list_02)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(after_process_02)) <span class="comment"># [-2.0, -4.0, -6.0, -8.0]</span></span><br></pre></td></tr></table></figure>



<h3 id="filter函数"><a href="#filter函数" class="headerlink" title="filter函数"></a>filter函数</h3><p><strong>基础语法：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">filter</span>(function <span class="keyword">or</span> <span class="literal">None</span>, iterable) -&gt; <span class="built_in">filter</span> <span class="built_in">object</span></span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ul>
<li>第一个参数：判断函数（返回True保留元素），None时直接取元素真值</li>
<li>第二个参数：单数据源（与map不同，不支持多数据源并行处理）</li>
</ul>
<p><strong>核心特性</strong>：</p>
<ul>
<li>惰性计算：生成迭代器而非立即执行</li>
<li>内存优化：处理1GB数据仅需5MB内存（Python 3.13+）</li>
<li>类型安全：自动校验函数返回类型（2025新增）</li>
</ul>
<p><strong>示例：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例1：基础数值过滤（含2025类型标注）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">filter_even</span>(<span class="params">data: <span class="built_in">list</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">filter</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x%<span class="number">2</span> == <span class="number">0</span>, data)</span><br><span class="line"></span><br><span class="line">nums = [<span class="number">0</span>, -<span class="number">3</span>, <span class="number">8</span>, <span class="number">15</span>, <span class="number">22</span>, -<span class="number">40</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(filter_even(nums)))  <span class="comment"># [0, 8, 22, -40]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例2：多阶段数据处理（过滤后转换）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process_data</span>(<span class="params">data: <span class="built_in">list</span>[<span class="built_in">float</span>]</span>) -&gt; <span class="built_in">map</span>:</span><br><span class="line">    filtered = <span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x &gt;= <span class="number">0</span> <span class="keyword">and</span> <span class="keyword">not</span> x.is_integer(), data)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">map</span>(<span class="keyword">lambda</span> x: <span class="built_in">round</span>(x*<span class="number">10</span>, <span class="number">2</span>), filtered)</span><br><span class="line"></span><br><span class="line">samples = [<span class="number">3.14</span>, -<span class="number">2.71</span>, <span class="number">5.0</span>, <span class="number">7.2</span>, <span class="number">9.999</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(process_data(samples)))  <span class="comment"># [31.4, 72.0, 99.99]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例3：跨类型数据清洗（2025优化版）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">clean_mixed_data</span>(<span class="params">data: <span class="built_in">list</span></span>) -&gt; <span class="built_in">filter</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">filter</span>(</span><br><span class="line">        <span class="keyword">lambda</span> item: (</span><br><span class="line">            <span class="built_in">isinstance</span>(item, <span class="built_in">int</span>) <span class="keyword">and</span> item &gt; <span class="number">0</span> <span class="keyword">or</span></span><br><span class="line">            <span class="built_in">isinstance</span>(item, <span class="built_in">str</span>) <span class="keyword">and</span> <span class="built_in">len</span>(item) &gt; <span class="number">3</span></span><br><span class="line">        ), </span><br><span class="line">        data</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">mixed = [<span class="number">10</span>, <span class="string">&quot;py&quot;</span>, -<span class="number">5</span>, <span class="string">&quot;data&quot;</span>, <span class="number">3.14</span>, <span class="string">&quot;AI&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(clean_mixed_data(mixed)))  <span class="comment"># [10, &#x27;data&#x27;]</span></span><br></pre></td></tr></table></figure>



<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><h3 id="模块核心概念"><a href="#模块核心概念" class="headerlink" title="模块核心概念"></a>模块核心概念</h3><p><strong>模块 &#x3D; 代码工具箱</strong></p>
<ul>
<li><p>本质是</p>
<p><code>.py</code></p>
<p>文件，包含函数&#x2F;类&#x2F;变量等</p>
</li>
<li><p>优势：代码复用、逻辑分离、命名空间管理</p>
</li>
<li><p>分类：</p>
<ul>
<li>内置模块：Python自带（如<code>math</code>,<code>random</code>）</li>
<li>第三方模块：通过<code>pip install</code>安装（如<code>requests</code>） </li>
<li>自定义模块：开发者创建的<code>.py</code>文件</li>
</ul>
</li>
</ul>
<h3 id="模块导入方法"><a href="#模块导入方法" class="headerlink" title="模块导入方法"></a>模块导入方法</h3><p>方式一：全量导入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="built_in">print</span>(math.sqrt(<span class="number">16</span>))  <span class="comment"># 4.0</span></span><br></pre></td></tr></table></figure>

<p>方式二：选择性导入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"><span class="built_in">print</span>(choice([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>]))  <span class="comment"># 随机选一个数字</span></span><br></pre></td></tr></table></figure>

<p>方式三：别名导入（避免命名冲突）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br></pre></td></tr></table></figure>

<p>方式四：导入全部内容（慎用）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> turtle <span class="keyword">import</span> *  <span class="comment"># 所有函数直接可用</span></span><br><span class="line">circle(<span class="number">100</span>)          <span class="comment"># 无需加模块名前缀</span></span><br></pre></td></tr></table></figure>



<p>注意：<font color="red">如果模块的文件名以数字开头<code>01_xxxx.py</code>，那么需要进行特殊的处理才能正确导入模块，示例如下</font></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态导入数字开头的模块（无需重命名文件）</span></span><br><span class="line">module = importlib.import_module(<span class="string">&quot;01_xxxx&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用模块中的函数/变量</span></span><br><span class="line">module.hello()</span><br></pre></td></tr></table></figure>



<h3 id="自定义模块开发"><a href="#自定义模块开发" class="headerlink" title="自定义模块开发"></a>自定义模块开发</h3><p>步骤1：创建</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 文件名：geometry.py</span></span><br><span class="line"><span class="comment"># 计算面积函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">circle_area</span>(<span class="params">r</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3.14159</span> * r ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断三角形类型（2025新增类型注解）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">triangle_type</span>(<span class="params">a: <span class="built_in">int</span>, b: <span class="built_in">int</span>, c: <span class="built_in">int</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="keyword">if</span> a + b &gt; c <span class="keyword">and</span> a + c &gt; b <span class="keyword">and</span> b + c &gt; a:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Valid&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Invalid&quot;</span></span><br></pre></td></tr></table></figure>

<p>步骤2：主程序导入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> geometry</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(geometry.circle_area(<span class="number">3</span>))          <span class="comment"># 28.27431</span></span><br><span class="line"><span class="built_in">print</span>(geometry.triangle_type(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))    <span class="comment"># Valid</span></span><br></pre></td></tr></table></figure>



<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li><p><strong>循环导入</strong>：模块A导入B，同时B导入A会导致错误</p>
</li>
<li><p><strong>路径问题</strong>：自定义模块需在以下位置之一：</p>
<ul>
<li><p>当前工作目录</p>
</li>
<li><p><code>sys.path</code>包含的路径（可用<code>sys.path.append()</code>添加）</p>
</li>
</ul>
</li>
<li><p><strong>缓存机制</strong>：已导入模块不会重新加载（需用<code>importlib.reload()</code>）</p>
</li>
<li><p><strong>命名规范</strong>：模块名避免与内置模块冲突（如不要命名<code>sys.py</code>）</p>
</li>
</ol>
<h3 id="调试技巧"><a href="#调试技巧" class="headerlink" title="调试技巧"></a>调试技巧</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看已加载模块</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(sys.modules.keys())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看模块位置</span></span><br><span class="line"><span class="built_in">print</span>(math.__file__)  <span class="comment"># 显示math模块路径</span></span><br></pre></td></tr></table></figure>



<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><ul>
<li>模块：单个<code>.py</code>文件（如<code>utils.py</code>）</li>
<li>包：含<code>__init__.py</code>的目录，支持多级嵌套（如<code>my_package/</code>）</li>
</ul>
<h3 id="标准包结构"><a href="#标准包结构" class="headerlink" title="标准包结构"></a>标准包结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">my_project/</span><br><span class="line">├── pyproject.toml         # 构建配置（替代setup.py）</span><br><span class="line">├── src/</span><br><span class="line">│   └── my_package/        # 包代码目录</span><br><span class="line">│       ├── __init__.py</span><br><span class="line">│       ├── core.py</span><br><span class="line">│       └── utils/</span><br><span class="line">│           ├── math.py</span><br><span class="line">│           └── strings.py</span><br><span class="line">├── tests/                 # 测试目录</span><br><span class="line">└── requirements.txt       # 依赖清单</span><br></pre></td></tr></table></figure>



<h3 id="包的导入机制"><a href="#包的导入机制" class="headerlink" title="包的导入机制"></a>包的导入机制</h3><h4 id="导入方式对比"><a href="#导入方式对比" class="headerlink" title="导入方式对比"></a>导入方式对比</h4><table>
<thead>
<tr>
<th>方式</th>
<th>示例</th>
<th>适用场景</th>
</tr>
</thead>
<tbody><tr>
<td><strong>绝对导入</strong></td>
<td><code>from my_package.core import func</code></td>
<td>跨模块引用</td>
</tr>
<tr>
<td><strong>相对导入</strong></td>
<td><code>from ..utils.math import add</code></td>
<td>包内部引用（PEP 328）</td>
</tr>
<tr>
<td><strong>动态导入</strong></td>
<td><code>importlib.import_module()</code></td>
<td>按需加载&#x2F;插件系统</td>
</tr>
</tbody></table>
<h4 id="路径解析规则"><a href="#路径解析规则" class="headerlink" title="路径解析规则"></a>路径解析规则</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(sys.path)  <span class="comment"># 查看Python搜索路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加自定义路径（临时）</span></span><br><span class="line">sys.path.append(<span class="string">&quot;/custom/module/path&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 永久添加路径（2025新方案）</span></span><br><span class="line"><span class="comment"># 在pyproject.toml中配置：</span></span><br><span class="line"><span class="comment"># [tool.paths]</span></span><br><span class="line"><span class="comment"># package_dirs = [&quot;src&quot;]</span></span><br></pre></td></tr></table></figure>



<h3 id="包的创建与分发"><a href="#包的创建与分发" class="headerlink" title="包的创建与分发"></a>包的创建与分发</h3><h4 id="创建可分发包"><a href="#创建可分发包" class="headerlink" title="创建可分发包"></a>创建可分发包</h4><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pyproject.toml</span></span><br><span class="line"><span class="section">[build-system]</span></span><br><span class="line"><span class="attr">requires</span> = [<span class="string">&quot;setuptools&gt;=65.0&quot;</span>]</span><br><span class="line"><span class="attr">build-backend</span> = <span class="string">&quot;setuptools.build_meta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[project]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;my_package&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">authors</span> = [&#123;name = <span class="string">&quot;Your Name&quot;</span>, email = <span class="string">&quot;you@example.com&quot;</span>&#125;]</span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;My awesome package&quot;</span></span><br><span class="line"><span class="attr">dependencies</span> = [<span class="string">&quot;requests&gt;=2.25&quot;</span>]</span><br></pre></td></tr></table></figure>

<ol>
<li><strong>构建与发布</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 安装最新构建工具</span><br><span class="line">pip install build twine</span><br><span class="line"></span><br><span class="line"># 构建分发包（源码+wheel）</span><br><span class="line">python -m build</span><br><span class="line"></span><br><span class="line"># 上传到PyPI</span><br><span class="line">twine upload dist/*</span><br></pre></td></tr></table></figure>



<h4 id="本地安装开发模式"><a href="#本地安装开发模式" class="headerlink" title="本地安装开发模式"></a>本地安装开发模式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 可编辑模式安装（代码修改实时生效）</span><br><span class="line">pip install -e .</span><br></pre></td></tr></table></figure>



<h3 id="包管理工具"><a href="#包管理工具" class="headerlink" title="包管理工具"></a>包管理工具</h3><p>常用指令：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>pip install .</code></td>
<td>安装当前目录包</td>
</tr>
<tr>
<td><code>pip install -r requirements.txt</code></td>
<td>根据清单安装依赖</td>
</tr>
<tr>
<td><code>pip freeze &gt; requirements.txt</code></td>
<td>生成精确依赖清单</td>
</tr>
<tr>
<td><code>pip list --outdated</code></td>
<td>列出过期包</td>
</tr>
<tr>
<td><code>pip cache purge</code></td>
<td>清除缓存</td>
</tr>
</tbody></table>
<h3 id="最佳实践与陷阱规避"><a href="#最佳实践与陷阱规避" class="headerlink" title="最佳实践与陷阱规避"></a>最佳实践与陷阱规避</h3><h4 id="包设计原则"><a href="#包设计原则" class="headerlink" title="包设计原则"></a>包设计原则</h4><ol>
<li><strong>单一职责</strong>：每个包&#x2F;模块聚焦一个功能领域</li>
<li>避免循环导入：使用<code>import</code>语句延迟加载</li>
<li>版本兼容：在<code>__init__.py</code>中定义<code>__version__</code></li>
</ol>
<h3 id="init-py"><a href="#init-py" class="headerlink" title="__init__.py"></a>__init__.py</h3><p><code>__init__.py</code>是 Python <strong>包（Package）</strong> 的核心<font color="red">标识文件</font>，其作用如下：</p>
<table>
<thead>
<tr>
<th><strong>作用</strong></th>
<th><strong>说明</strong></th>
<th><strong>示例场景</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>标识包目录</strong></td>
<td>使 Python 将含该文件的目录视为可导入的包（Namespace Package 除外）</td>
<td>旧项目兼容（Python &lt;3.3）</td>
</tr>
<tr>
<td><strong>初始化包</strong></td>
<td>包被导入时自动执行该文件中的代码</td>
<td>预加载资源、注册子模块、配置日志</td>
</tr>
<tr>
<td><strong>控制模块暴露</strong></td>
<td>通过 <code>__all__</code> 变量定义 <code>from package import *</code> 时导出的内容</td>
<td>限制外部可见接口</td>
</tr>
<tr>
<td><strong>简化导入路径</strong></td>
<td>在文件中导入子模块&#x2F;子包，用户可直接通过包名访问</td>
<td><code>from my_pkg import utils</code>（无需完整路径）</td>
</tr>
<tr>
<td><strong>跨版本兼容</strong></td>
<td>在 Python 3.3+ 中虽非必需，但显式使用可确保向后兼容性</td>
<td>开源库开发</td>
</tr>
</tbody></table>
<h4 id="基础场景（空文件）"><a href="#基础场景（空文件）" class="headerlink" title="基础场景（空文件）"></a><strong>基础场景（空文件）</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># my_package/__init__.py</span></span><br><span class="line"><span class="comment"># 空文件，仅标识目录为包</span></span><br></pre></td></tr></table></figure>



<h4 id="初始化操作"><a href="#初始化操作" class="headerlink" title="初始化操作"></a>初始化操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># my_package/__init__.py</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;包已加载！&quot;</span>)  <span class="comment"># 包导入时自动执行</span></span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> core  <span class="comment"># 导入同级模块 core.py</span></span><br></pre></td></tr></table></figure>



<h4 id="控制暴露接口"><a href="#控制暴露接口" class="headerlink" title="控制暴露接口"></a>控制暴露接口</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># my_package/__init__.py</span></span><br><span class="line">__all__ = [<span class="string">&#x27;utils&#x27;</span>, <span class="string">&#x27;config&#x27;</span>]  <span class="comment"># 定义允许导出的模块</span></span><br><span class="line"><span class="keyword">from</span> .utils <span class="keyword">import</span> *  <span class="comment"># 暴露 utils 模块的所有公共成员</span></span><br></pre></td></tr></table></figure>



<h4 id="复杂包结构整合"><a href="#复杂包结构整合" class="headerlink" title="复杂包结构整合"></a>复杂包结构整合</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># my_package/__init__.py</span></span><br><span class="line"><span class="keyword">from</span> .sub_pkg <span class="keyword">import</span> *  <span class="comment"># 导入子包中的所有模块</span></span><br><span class="line"><span class="keyword">from</span> .core <span class="keyword">import</span> main_func  <span class="comment"># 直接暴露核心函数</span></span><br></pre></td></tr></table></figure>



<h2 id="常见的标准库"><a href="#常见的标准库" class="headerlink" title="常见的标准库"></a>常见的标准库</h2><p>下表来自B站尚硅谷：</p>
<table>
<thead>
<tr>
<th>模块</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>os</td>
<td>os模块提供了许多与操作系统交互的函数，例如创建、移动和删除文件（或目录），以及访问环境变量等</td>
</tr>
<tr>
<td>sys</td>
<td>sys模块提供了与Python解释器和系统相关的功能，例如解释器的版本和路径，以及与stdin、stdout和stderr相关的信息</td>
</tr>
<tr>
<td>time</td>
<td>time模块提供了处理时间的函数，例如获取当前时间、格式化日期和时间、计时等</td>
</tr>
<tr>
<td>datatime</td>
<td>datetime提供了更加高级的日期和时间处理函数，例如处理时区、计算时间差、计算日期差等</td>
</tr>
<tr>
<td>random</td>
<td>random提供了生成随机数的函数，例如生成随机整数、浮点数、序列等</td>
</tr>
<tr>
<td>math</td>
<td>math模块提供了数学函数，例如三角函数、对数函数、指数函数、常数等</td>
</tr>
<tr>
<td>re</td>
<td>re模块提供了正则表达式处理函数、可以用于文本搜索、替换、分割等</td>
</tr>
<tr>
<td>json</td>
<td>json模块提供了JSON编码和解码函数，可以将Python对象转换为JSON格式，并从JSON格式中解析出Python对象</td>
</tr>
<tr>
<td>urllib</td>
<td>urllib模块提供了访问网页和处理URL的功能，包括下载文件、发送POST请求、处理cookies等</td>
</tr>
</tbody></table>
<h3 id="random库的使用"><a href="#random库的使用" class="headerlink" title="random库的使用"></a>random库的使用</h3><table>
<thead>
<tr>
<th><strong>方法</strong></th>
<th><strong>作用</strong></th>
<th><strong>参数说明</strong></th>
<th><strong>示例</strong></th>
<th><strong>输出示例</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>random()</code></td>
<td>生成 [0.0, 1.0) 的随机浮点数</td>
<td>无</td>
<td><code>random.random()</code></td>
<td><code>0.5487</code></td>
</tr>
<tr>
<td><code>randint(a, b)</code></td>
<td>生成 [a, b] 的随机整数</td>
<td><code>a</code> 下限，<code>b</code> 上限</td>
<td><code>random.randint(1, 10)</code></td>
<td><code>7</code></td>
</tr>
<tr>
<td><code>uniform(a, b)</code></td>
<td>生成 [a, b] 的随机浮点数</td>
<td><code>a</code> 下限，<code>b</code> 上限</td>
<td><code>random.uniform(5.5, 10.5)</code></td>
<td><code>8.34</code></td>
</tr>
<tr>
<td><code>choice(seq)</code></td>
<td>从非空序列中随机选取元素</td>
<td><code>seq</code> 列表&#x2F;元组&#x2F;字符串</td>
<td><code>random.choice([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;])</code></td>
<td><code>&#39;B&#39;</code></td>
</tr>
<tr>
<td><code>shuffle(seq)</code></td>
<td><strong>原地</strong>打乱序列顺序</td>
<td><code>seq</code> 可变序列（如列表）</td>
<td><code>lst = [1,2,3]; random.shuffle(lst)</code></td>
<td><code>lst → [3,1,2]</code></td>
</tr>
<tr>
<td><code>sample(seq, k)</code></td>
<td>从序列中无重复抽取 k 个元素</td>
<td><code>seq</code> 序列，<code>k</code> 数量</td>
<td><code>random.sample(range(100), 5)</code></td>
<td><code>[42, 88, 15, 3, 71]</code></td>
</tr>
<tr>
<td><code>randrange(start, stop, step)</code></td>
<td>按步长生成随机整数</td>
<td><code>start</code> 起始，<code>stop</code> 结束，<code>step</code> 步长</td>
<td><code>random.randrange(0, 100, 5)</code></td>
<td><code>45</code></td>
</tr>
</tbody></table>
<h4 id="高频使用场景及代码示例"><a href="#高频使用场景及代码示例" class="headerlink" title="高频使用场景及代码示例"></a>高频使用场景及代码示例</h4><h5 id="生成验证码"><a href="#生成验证码" class="headerlink" title="生成验证码"></a>生成验证码</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line"></span><br><span class="line">def generate_code(length=6):</span><br><span class="line">    chars = &#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;</span><br><span class="line">    return &#x27;&#x27;.join(random.choice(chars) for _ in range(length))</span><br><span class="line"></span><br><span class="line">print(generate_code())  # 输出如 &#x27;3X8T9Y&#x27;</span><br></pre></td></tr></table></figure>

<h5 id="随机打乱数据集"><a href="#随机打乱数据集" class="headerlink" title="随机打乱数据集"></a>随机打乱数据集</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = list(range(10))</span><br><span class="line">random.shuffle(data)  # 原地打乱</span><br><span class="line">print(data)  # 输出如 [7, 2, 5, 0, 9, 1, 3, 8, 4, 6]</span><br></pre></td></tr></table></figure>

<h5 id="加权随机选择（2025-年新特性）"><a href="#加权随机选择（2025-年新特性）" class="headerlink" title="加权随机选择（2025 年新特性）"></a>加权随机选择（2025 年新特性）</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">options = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]</span><br><span class="line">weights = [0.2, 0.5, 0.3]  # 权重需总和为1</span><br><span class="line">selected = random.choices(options, weights=weights, k=3)</span><br><span class="line">print(selected)  # 输出如 [&#x27;B&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]</span><br></pre></td></tr></table></figure>

<h5 id="生成安全随机数"><a href="#生成安全随机数" class="headerlink" title="生成安全随机数"></a>生成安全随机数</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import secrets  # Python 3.6+ 专用安全模块</span><br><span class="line"></span><br><span class="line">secure_num = secrets.randbelow(100)  # 生成 [0, 99] 的安全随机整数</span><br><span class="line">print(secure_num)  # 输出如 42</span><br></pre></td></tr></table></figure>



<h4 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h4><ol>
<li><p>种子设置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">random.seed(42)  # 固定随机种子，使结果可复现（调试用）</span><br></pre></td></tr></table></figure>
</li>
<li><p>线程安全：多线程环境下建议使用<code>random.SystemRandom()</code>实例</p>
</li>
<li><p>浮点数精度：<code>uniform()</code>的浮点数精度受系统限制，金融计算需用<code>decimal</code>模块</p>
</li>
</ol>
<h4 id="扩展学习"><a href="#扩展学习" class="headerlink" title="扩展学习"></a>扩展学习</h4><ul>
<li>高级分布：<code>gauss(mu, sigma)</code>（正态分布）、<code>expovariate(lambd)</code>（指数分布）</li>
<li>性能优化：生成大规模随机数组时，推荐使用<code>numpy.random</code></li>
<li>安全场景：涉及密码学操作时，优先使用<code>secrets</code>模块</li>
</ul>
<h3 id="re库的使用"><a href="#re库的使用" class="headerlink" title="re库的使用"></a>re库的使用</h3><h4 id="常用方法详解"><a href="#常用方法详解" class="headerlink" title="常用方法详解"></a>常用方法详解</h4><table>
<thead>
<tr>
<th><strong>方法</strong></th>
<th><strong>作用</strong></th>
<th><strong>示例</strong></th>
<th><strong>输出示例</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong><code>re.match()</code></strong></td>
<td><strong>从头匹配</strong>，仅匹配字符串开头</td>
<td><code>re.match(r&#39;\d+&#39;, &#39;123abc&#39;)</code></td>
<td><code>Match对象（123）</code></td>
</tr>
<tr>
<td><strong><code>re.search()</code></strong></td>
<td><strong>全局搜索</strong>，找到第一个匹配位置</td>
<td><code>re.search(r&#39;\d+&#39;, &#39;abc456def&#39;)</code></td>
<td><code>Match对象（456）</code></td>
</tr>
<tr>
<td><strong><code>re.findall()</code></strong></td>
<td>返回所有<strong>匹配结果的列表</strong></td>
<td><code>re.findall(r&#39;\d+&#39;, &#39;a1b22c333&#39;)</code></td>
<td><code>[&#39;1&#39;, &#39;22&#39;, &#39;333&#39;]</code></td>
</tr>
<tr>
<td><strong><code>re.finditer()</code></strong></td>
<td>返回<strong>迭代器</strong>，适合大文本处理</td>
<td><code>[m.group() for m in re.finditer(r&#39;\d+&#39;, &#39;a1b22c333&#39;)]</code></td>
<td><code>[&#39;1&#39;, &#39;22&#39;, &#39;333&#39;]</code></td>
</tr>
<tr>
<td><strong><code>re.sub()</code></strong></td>
<td>替换匹配内容</td>
<td><code>re.sub(r&#39;\d+&#39;, &#39;X&#39;, &#39;a1b22c333&#39;)</code></td>
<td><code>&#39;aXbXcX&#39;</code></td>
</tr>
<tr>
<td><strong><code>re.split()</code></strong></td>
<td>按模式分割字符串</td>
<td><code>re.split(r&#39;\d+&#39;, &#39;a1b22c333&#39;)</code></td>
<td><code>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;&#39;]</code></td>
</tr>
</tbody></table>
<h4 id="正则表达式核心语法"><a href="#正则表达式核心语法" class="headerlink" title="正则表达式核心语法"></a>正则表达式核心语法</h4><h5 id="基础元字符"><a href="#基础元字符" class="headerlink" title="基础元字符"></a>基础元字符</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">r&#x27;\d&#x27;      # 匹配数字（等价于 [0-9]）</span><br><span class="line">r&#x27;\w&#x27;      # 匹配字母/数字/下划线（等价于 [a-zA-Z0-9_]）</span><br><span class="line">r&#x27;\s&#x27;      # 匹配空白符（空格、制表符等）</span><br><span class="line">r&#x27;.&#x27;       # 匹配除换行外的任意字符</span><br><span class="line">r&#x27;^abc&#x27;    # 匹配以 abc 开头</span><br><span class="line">r&#x27;xyz$&#x27;    # 匹配以 xyz 结尾</span><br></pre></td></tr></table></figure>

<h5 id="量词控制"><a href="#量词控制" class="headerlink" title="量词控制"></a>量词控制</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r&#x27;a*&#x27;      # 匹配 0 次或多次（贪婪）</span><br><span class="line">r&#x27;a+?&#x27;     # 匹配 1 次或多次（非贪婪）</span><br><span class="line">r&#x27;a&#123;2,5&#125;&#x27;  # 匹配 2-5 次</span><br><span class="line">r&#x27;a|b&#x27;     # 匹配 a 或 b</span><br></pre></td></tr></table></figure>

<h5 id="分组与引用"><a href="#分组与引用" class="headerlink" title="分组与引用"></a>分组与引用</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 分组捕获</span><br><span class="line">m = re.search(r&#x27;(\d&#123;3&#125;)-(\d&#123;4&#125;)&#x27;, &#x27;电话：010-1234&#x27;)</span><br><span class="line">print(m.group(1))  # &#x27;010&#x27;</span><br><span class="line"></span><br><span class="line"># 替换引用</span><br><span class="line">re.sub(r&#x27;(\d+)/(\d+)&#x27;, r&#x27;\2/\1&#x27;, &#x27;3/14&#x27;)  # → &#x27;14/3&#x27;</span><br><span class="line"></span><br><span class="line"># 命名分组（2025 推荐写法）</span><br><span class="line">re.search(r&#x27;(?P&lt;area&gt;\d&#123;3&#125;)-(?P&lt;num&gt;\d&#123;4&#125;)&#x27;, &#x27;010-1234&#x27;).group(&#x27;area&#x27;)  # → &#x27;010&#x27;</span><br></pre></td></tr></table></figure>



<h4 id="高频应用场景与代码示例"><a href="#高频应用场景与代码示例" class="headerlink" title="高频应用场景与代码示例"></a>高频应用场景与代码示例</h4><h5 id="邮箱验证"><a href="#邮箱验证" class="headerlink" title="邮箱验证"></a>邮箱验证</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">email_pattern = <span class="string">r&#x27;^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.<span class="keyword">match</span>(email_pattern, <span class="string">&#x27;user@example.com&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<h5 id="提取电话号码"><a href="#提取电话号码" class="headerlink" title="提取电话号码"></a>提取电话号码</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&quot;联系电话：010-12345678 或 0755-7654321&quot;</span></span><br><span class="line">phones = re.findall(<span class="string">r&#x27;\d&#123;3,4&#125;-\d&#123;7,8&#125;&#x27;</span>, text)  <span class="comment"># → [&#x27;010-12345678&#x27;, &#x27;0755-7654321&#x27;]</span></span><br></pre></td></tr></table></figure>

<h5 id="HTML标签内容提取"><a href="#HTML标签内容提取" class="headerlink" title="HTML标签内容提取"></a>HTML标签内容提取</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">html = <span class="string">&#x27;&lt;div class=&quot;title&quot;&gt;Hello World&lt;/div&gt;&#x27;</span></span><br><span class="line">content = re.search(<span class="string">r&#x27;&lt;div.*?&gt;(.*?)&lt;/div&gt;&#x27;</span>, html).group(<span class="number">1</span>)  <span class="comment"># → &#x27;Hello World&#x27;</span></span><br></pre></td></tr></table></figure>

<h5 id="敏感词替换"><a href="#敏感词替换" class="headerlink" title="敏感词替换"></a>敏感词替换</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sensitive_words = [<span class="string">&#x27;bad&#x27;</span>, <span class="string">&#x27;danger&#x27;</span>]</span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">&#x27;|&#x27;</span>.join(sensitive_words), flags=re.IGNORECASE)</span><br><span class="line">text = <span class="string">&#x27;This is a BAD example.&#x27;</span></span><br><span class="line">clean_text = pattern.sub(<span class="string">&#x27;***&#x27;</span>, text)  <span class="comment"># → &#x27;This is a *** example.&#x27;</span></span><br></pre></td></tr></table></figure>



<h4 id="最佳实践与常见陷阱"><a href="#最佳实践与常见陷阱" class="headerlink" title="最佳实践与常见陷阱"></a>最佳实践与常见陷阱</h4><h5 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h5><ul>
<li>预编译正则：重复使用的模式用<code>re.compile()</code>预编译（可提升 10-20% 性能）</li>
<li>避免回溯灾难：慎用嵌套量词如<code>(a+)+</code>，可用原子分组<code>(?&gt;...)</code></li>
</ul>
<h5 id="安全与规范"><a href="#安全与规范" class="headerlink" title="安全与规范"></a>安全与规范</h5><ul>
<li>原始字符串：始终使用<code>r&#39;&#39;</code>避免转义错误</li>
<li><strong>DDoS 防御</strong>：用户输入正则时限制复杂度（参考 CWE-400）</li>
</ul>
<h5 id="常见错误"><a href="#常见错误" class="headerlink" title="常见错误"></a>常见错误</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 错误：未转义特殊字符</span><br><span class="line">re.search(r&#x27;example.com&#x27;, &#x27;exampleAcom&#x27;)  # 错误匹配</span><br><span class="line">re.search(r&#x27;example\.com&#x27;, &#x27;example.com&#x27;) # 正确</span><br><span class="line"></span><br><span class="line"># 错误：贪婪模式导致意外匹配</span><br><span class="line">re.search(r&#x27;&lt;div&gt;.*&lt;/div&gt;&#x27;, &#x27;&lt;div&gt;a&lt;/div&gt;&lt;div&gt;b&lt;/div&gt;&#x27;).group()  # 匹配整个字符串</span><br><span class="line">re.search(r&#x27;&lt;div&gt;.*?&lt;/div&gt;&#x27;, &#x27;&lt;div&gt;a&lt;/div&gt;...&#x27;)  # 正确（非贪婪）</span><br></pre></td></tr></table></figure>



<h3 id="socket库的使用"><a href="#socket库的使用" class="headerlink" title="socket库的使用"></a>socket库的使用</h3><ol>
<li>Socket类型：<ul>
<li><code>socket.SOCK_STREAM</code>：TCP协议（可靠流式传输）</li>
<li><code>socket.SOCK_DGRAM</code>：UDP协议（快速无连接传输）</li>
</ul>
</li>
<li>地址格式：<ul>
<li>IPv4使用元组<code>(host, port)</code>，如<code>(&#39;127.0.0.1&#39;, 8888)</code></li>
<li>IPv6使用元组<code>(host, port, flowinfo, scopeid)</code></li>
</ul>
</li>
</ol>
<h4 id="TCP通信基础步骤"><a href="#TCP通信基础步骤" class="headerlink" title="TCP通信基础步骤"></a>TCP通信基础步骤</h4><h5 id="服务端代码示例"><a href="#服务端代码示例" class="headerlink" title="服务端代码示例"></a>服务端代码示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 创建Socket对象</span></span><br><span class="line">server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 绑定地址和端口</span></span><br><span class="line">server_socket.bind((<span class="string">&#x27;localhost&#x27;</span>, <span class="number">8888</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 开启监听（最大连接数设为5）</span></span><br><span class="line">server_socket.listen(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;服务端已启动，等待连接...&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 4. 接受客户端连接（阻塞等待）</span></span><br><span class="line">        client_socket, addr = server_socket.accept()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;客户端 <span class="subst">&#123;addr&#125;</span> 已连接&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 5. 接收数据（最大1024字节）</span></span><br><span class="line">        data = client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;收到数据：<span class="subst">&#123;data.decode(<span class="string">&#x27;utf-8&#x27;</span>)&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 6. 发送响应</span></span><br><span class="line">        client_socket.sendall(<span class="string">b&#x27;Hello from server!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 7. 关闭当前客户端连接</span></span><br><span class="line">        client_socket.close()</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="comment"># 8. 关闭服务端Socket</span></span><br><span class="line">    server_socket.close()</span><br></pre></td></tr></table></figure>



<h5 id="客户端代码示例"><a href="#客户端代码示例" class="headerlink" title="客户端代码示例"></a>客户端代码示例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 创建Socket对象</span></span><br><span class="line">client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 2. 连接服务器</span></span><br><span class="line">    client_socket.connect((<span class="string">&#x27;localhost&#x27;</span>, <span class="number">8888</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 3. 发送数据</span></span><br><span class="line">    client_socket.sendall(<span class="string">b&#x27;Hello from client!&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 4. 接收响应（最大1024字节）</span></span><br><span class="line">    response = client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;服务器响应：<span class="subst">&#123;response.decode(<span class="string">&#x27;utf-8&#x27;</span>)&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="comment"># 5. 关闭连接</span></span><br><span class="line">    client_socket.close()</span><br></pre></td></tr></table></figure>

<h3 id="第三方库"><a href="#第三方库" class="headerlink" title="第三方库"></a>第三方库</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  
graph LR
    A[&quot;Python第三方库分类&quot;] --&gt; B[Web开发]
    A --&gt; C[游戏开发]
    A --&gt; D[数据科学]
    A --&gt; E[机器学习&#x2F;深度学习]
    A --&gt; F[GUI开发]
    A --&gt; G[文件处理]
    A --&gt; H[自然语言处理]
    A --&gt; I[图像处理]
    A --&gt; J[实用工具]
    %% Web开发（2025年主流框架）
    B --&gt; B1(&quot;Django (全栈框架)&quot;)
    B --&gt; B2(&quot;Flask (微框架)&quot;)
    B --&gt; B3(&quot;Pyramid (可扩展框架)&quot;)
    %% 游戏开发（最新游戏引擎支持）
    C --&gt; C1(&quot;Pygame (2D游戏开发)&quot;)
    C --&gt; C2(&quot;Panda3D (3D游戏引擎)&quot;)
    C --&gt; C3(&quot;cocos2d (移动端游戏)&quot;)
    %% 数据科学（2025年核心库）
    D --&gt; D1(&quot;numpy (数值计算)&quot;)
    D --&gt; D2(&quot;pandas (数据分析)&quot;)
    D --&gt; D3(&quot;matplotlib (数据可视化)&quot;)
    D --&gt; D4(&quot;scipy (科学计算)&quot;)
    D --&gt; D5(&quot;mayavi (3D可视化)&quot;)
    %% 机器学习&#x2F;深度学习（最新AI工具链）
    E --&gt; E1(&quot;scikit-learn (传统机器学习)&quot;)
    E --&gt; E2(&quot;Tensorflow (深度学习框架)&quot;)
    E --&gt; E3(&quot;Theano (数值计算)&quot;)
    %% GUI开发（跨平台解决方案）
    F --&gt; F1(&quot;PyQT5 (QT界面开发)&quot;)
    F --&gt; F2(&quot;wxPython (跨平台GUI)&quot;)
    F --&gt; F3(&quot;pyGTK (GNOME应用)&quot;)
    %% 文件处理（2025文档处理方案）
    G --&gt; G1(&quot;pdfminer (PDF解析)&quot;)
    G --&gt; G2(&quot;openpyxl (Excel操作)&quot;)
    G --&gt; G3(&quot;python-docx (Word处理)&quot;)
    %% 自然语言处理（NLP工具）
    H --&gt; H1(&quot;NLTK (自然语言工具包)&quot;)
    %% 图像处理（最新图形技术）
    I --&gt; I1(&quot;PIL (图像处理库)&quot;)
    I --&gt; I2(&quot;MyQR (二维码生成)&quot;)
    %% 实用工具（2025流行工具）
    J --&gt; J1(&quot;Scrapy (爬虫框架)&quot;)
    J --&gt; J2(&quot;WeRoBot (微信机器人)&quot;)
    J --&gt; J3(&quot;beautifulsoup4 (HTML解析)&quot;)
    J --&gt; J4(&quot;Sympy (符号数学)&quot;)

  </pre></div>

<h2 id="文件以及IO操作"><a href="#文件以及IO操作" class="headerlink" title="文件以及IO操作"></a>文件以及IO操作</h2><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  
graph LR
    A[Python文件操作] --&gt; B[基础操作]
    A --&gt; C[读写模式]
    A --&gt; D[上下文管理]
    A --&gt; E[异常处理]
    A --&gt; F[高级功能]
	B --&gt; B1[&quot;open()函数&quot;]
	B --&gt; B2[路径处理 os.path]
	B --&gt; B3[文件元数据]
	C --&gt; C1[文本模式 r&#x2F;w&#x2F;a]
	C --&gt; C2[二进制模式 rb&#x2F;wb&#x2F;ab]
	C --&gt; C3[读写组合 r+&#x2F;w+&#x2F;a+]
	D --&gt; D1[with语句]
	D --&gt; D2[自动关闭文件]
	E --&gt; E1[try-except块]
	E --&gt; E2[OSError处理]
	F --&gt; F1[内存映射 mmap]
	F --&gt; F2[临时文件 tempfile]
	F --&gt; F3[目录操作 os]

  </pre></div>



<h3 id="open函数"><a href="#open函数" class="headerlink" title="open函数"></a>open函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(</span><br><span class="line">    file, </span><br><span class="line">    mode=<span class="string">&#x27;r&#x27;</span>, </span><br><span class="line">    buffering=-<span class="number">1</span>, </span><br><span class="line">    encoding=<span class="literal">None</span>, </span><br><span class="line">    errors=<span class="literal">None</span>, </span><br><span class="line">    newline=<span class="literal">None</span>, </span><br><span class="line">    closefd=<span class="literal">True</span>, </span><br><span class="line">    opener=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="核心参数详解"><a href="#核心参数详解" class="headerlink" title="核心参数详解"></a>核心参数详解</h4><p><strong>file（必选）：</strong></p>
<ul>
<li>接受路径对象或字符串路径</li>
<li>2025推荐写法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line">file_path = Path(<span class="string">&quot;data/2025_log.txt&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>mode（模式控制）：</strong></p>
<table>
<thead>
<tr>
<th>模式</th>
<th>描述</th>
<th>文件存在行为</th>
<th>读写权限</th>
</tr>
</thead>
<tbody><tr>
<td><code>r</code></td>
<td>只读</td>
<td>打开文件</td>
<td>读</td>
</tr>
<tr>
<td><code>w</code></td>
<td>写入</td>
<td><strong>清空内容</strong></td>
<td>写</td>
</tr>
<tr>
<td><code>a</code></td>
<td>追加</td>
<td>保留内容</td>
<td>写</td>
</tr>
<tr>
<td><code>r+</code></td>
<td>读写</td>
<td>打开文件</td>
<td>读写</td>
</tr>
<tr>
<td><code>w+</code></td>
<td>读写</td>
<td>清空内容</td>
<td>读写</td>
</tr>
<tr>
<td><code>a+</code></td>
<td>读写</td>
<td>保留内容</td>
<td>读写</td>
</tr>
</tbody></table>
<p><strong>二进制扩展模式（追加b）：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 处理图片/视频等二进制文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;video.mp4&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = f.read()</span><br></pre></td></tr></table></figure>

<p><strong>encoding（编码规范）：</strong></p>
<ul>
<li>必须显式声明（2025强制规范）</li>
<li>推荐值：<code>utf-8</code></li>
<li>错误示例：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不推荐（使用系统默认编码）</span></span><br><span class="line"><span class="built_in">open</span>(<span class="string">&quot;file.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)  </span><br><span class="line"><span class="comment"># 正确写法</span></span><br><span class="line"><span class="built_in">open</span>(<span class="string">&quot;file.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>errors（编码错误处理）：</strong></p>
<table>
<thead>
<tr>
<th>策略</th>
<th>行为</th>
</tr>
</thead>
<tbody><tr>
<td><code>strict</code></td>
<td>遇到错误抛出异常（默认）</td>
</tr>
<tr>
<td><code>ignore</code></td>
<td>忽略错误字符</td>
</tr>
<tr>
<td><code>replace</code></td>
<td>用?替代不可解码字符</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 处理老旧系统生成的GBK文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;old_file.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;gbk&quot;</span>, errors=<span class="string">&quot;replace&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    content = f.read()</span><br></pre></td></tr></table></figure>



<h3 id="with语句"><a href="#with语句" class="headerlink" title="with语句"></a>with语句</h3><p><code>with</code>语句是用于<strong>资源自动管理</strong>的核心语法结构，其设计目标是通过上下文管理器协议确保资源的安全获取与释放</p>
<h4 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h4><p>替代传统的<code>try/finally</code>模式，实现<strong>资源自动释放</strong>（如文件句柄、数据库连接、线程锁等）</p>
<h4 id="语法原型"><a href="#语法原型" class="headerlink" title="语法原型"></a>语法原型</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> ContextManager() <span class="keyword">as</span> resource:</span><br><span class="line">    <span class="comment"># 在此使用资源</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p><strong>上下文管理器协议</strong></p>
<ul>
<li><p><code>__enter__()</code></p>
<p>：进入代码块时调用，返回资源对象</p>
</li>
<li><p><code>__exit__()</code></p>
<p>：退出代码块时调用，处理清理逻辑</p>
</li>
</ul>
</li>
</ol>
<h4 id="典型应用场景-2"><a href="#典型应用场景-2" class="headerlink" title="典型应用场景"></a>典型应用场景</h4><h5 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line"><span class="comment"># 现代路径管理+with语句（2025推荐写法）</span></span><br><span class="line">log_file = Path(<span class="string">&quot;logs/app_2025.log&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> log_file.<span class="built_in">open</span>(<span class="string">&quot;a&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">f&quot;[<span class="subst">&#123;datetime.now().isoformat()&#125;</span>] SYSTEM_OK\n&quot;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="数据库连接池"><a href="#数据库连接池" class="headerlink" title="数据库连接池"></a>数据库连接池</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新型异步数据库连接（2025新特性）</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">with</span> aio_db.connect() <span class="keyword">as</span> conn:</span><br><span class="line">    <span class="keyword">await</span> conn.execute(<span class="string">&quot;UPDATE data SET status=1&quot;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="线程锁管理"><a href="#线程锁管理" class="headerlink" title="线程锁管理"></a>线程锁管理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"><span class="keyword">with</span> lock:  <span class="comment"># 自动获取和释放锁</span></span><br><span class="line">    shared_data.append(new_item)</span><br></pre></td></tr></table></figure>



<h4 id="进阶用法"><a href="#进阶用法" class="headerlink" title="进阶用法"></a>进阶用法</h4><h5 id="自定义上下文管理器"><a href="#自定义上下文管理器" class="headerlink" title="自定义上下文管理器"></a>自定义上下文管理器</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DatabaseTransaction</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        self.conn = connect_db()</span><br><span class="line">        self.conn.begin()</span><br><span class="line">        <span class="keyword">return</span> self.conn</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_val, exc_tb</span>):</span><br><span class="line">        <span class="keyword">if</span> exc_type <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            self.conn.commit()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.conn.rollback()</span><br><span class="line">        self.conn.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用示例</span></span><br><span class="line"><span class="keyword">with</span> DatabaseTransaction() <span class="keyword">as</span> db:</span><br><span class="line">    db.execute(<span class="string">&quot;INSERT INTO logs VALUES (...)&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="多资源并行管理"><a href="#多资源并行管理" class="headerlink" title="多资源并行管理"></a>多资源并行管理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 同时打开输入输出文件</span></span><br><span class="line"><span class="keyword">with</span> (<span class="built_in">open</span>(<span class="string">&quot;source.csv&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> src,</span><br><span class="line">      <span class="built_in">open</span>(<span class="string">&quot;processed.parquet&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> dst):</span><br><span class="line">    process_data(src, dst)  <span class="comment"># 数据流式处理</span></span><br></pre></td></tr></table></figure>



<h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><h4 id="查（Read）操作"><a href="#查（Read）操作" class="headerlink" title="查（Read）操作"></a>查（Read）操作</h4><h5 id="列出目录内容"><a href="#列出目录内容" class="headerlink" title="列出目录内容"></a>列出目录内容</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path  <span class="comment"># Python 3.4+ 推荐方式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用pathlib（跨平台友好）</span></span><br><span class="line">current_dir = Path.cwd()	<span class="comment"># 返回当前目录的绝对路径</span></span><br><span class="line">all_items = <span class="built_in">list</span>(current_dir.iterdir())  <span class="comment"># 包含文件和目录</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 过滤特定类型文件</span></span><br><span class="line">py_files = [f <span class="keyword">for</span> f <span class="keyword">in</span> current_dir.glob(<span class="string">&#x27;*.py&#x27;</span>) <span class="keyword">if</span> f.is_file()]</span><br></pre></td></tr></table></figure>



<h5 id="获取文件信息"><a href="#获取文件信息" class="headerlink" title="获取文件信息"></a>获取文件信息</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">file_path = Path(<span class="string">&#x27;data.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">文件存在: <span class="subst">&#123;file_path.exists()&#125;</span></span></span><br><span class="line"><span class="string">是否为文件: <span class="subst">&#123;file_path.is_file()&#125;</span></span></span><br><span class="line"><span class="string">文件大小: <span class="subst">&#123;file_path.stat().st_size&#125;</span> bytes</span></span><br><span class="line"><span class="string">最后修改时间: <span class="subst">&#123;file_path.stat().st_mtime&#125;</span> (Unix时间戳)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="增（Create）操作"><a href="#增（Create）操作" class="headerlink" title="增（Create）操作"></a>增（Create）操作</h4><h5 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">new_file = Path(<span class="string">&#x27;new_data.txt&#x27;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    new_file.touch(exist_ok=<span class="literal">False</span>)  <span class="comment"># 避免覆盖已有文件</span></span><br><span class="line"><span class="keyword">except</span> FileExistsError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;文件已存在！&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">new_dir = Path(<span class="string">&#x27;project/docs/2025&#x27;</span>)</span><br><span class="line">new_dir.mkdir(parents=<span class="literal">True</span>, exist_ok=<span class="literal">True</span>)  <span class="comment"># 自动创建不存在的父目录</span></span><br></pre></td></tr></table></figure>



<h4 id="删（Delete）操作"><a href="#删（Delete）操作" class="headerlink" title="删（Delete）操作"></a>删（Delete）操作</h4><h5 id="安全删除文件"><a href="#安全删除文件" class="headerlink" title="安全删除文件"></a>安全删除文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">target_file = Path(<span class="string">&#x27;temp.txt&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> target_file.exists():</span><br><span class="line">    target_file.unlink()  <span class="comment"># 等价于 os.remove</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;文件不存在&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="删除目录"><a href="#删除目录" class="headerlink" title="删除目录"></a>删除目录</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">safe_remove_dir</span>(<span class="params">dir_path</span>):</span><br><span class="line">    dir_path = Path(dir_path)</span><br><span class="line">    <span class="keyword">if</span> dir_path.exists():</span><br><span class="line">        shutil.rmtree(dir_path, onerror=handle_errors)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">handle_errors</span>(<span class="params">func, path, exc_info</span>):</span><br><span class="line">    <span class="comment"># 自定义错误处理（如文件被占用时的重试逻辑）</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;删除失败: <span class="subst">&#123;path&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="改（Update）操作"><a href="#改（Update）操作" class="headerlink" title="改（Update）操作"></a>改（Update）操作</h4><h5 id="重命名-移动文件"><a href="#重命名-移动文件" class="headerlink" title="重命名&#x2F;移动文件"></a>重命名&#x2F;移动文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">src = Path(<span class="string">&#x27;old_name.txt&#x27;</span>)</span><br><span class="line">dst = Path(<span class="string">&#x27;new_name.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    src.replace(dst)  <span class="comment"># 原子操作，跨文件系统自动复制+删除</span></span><br><span class="line"><span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;源文件不存在&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="修改文件内容"><a href="#修改文件内容" class="headerlink" title="修改文件内容"></a>修改文件内容</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="string">&#x27;r+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    content = f.read()</span><br><span class="line">    new_content = content.replace(<span class="string">&#x27;old&#x27;</span>, <span class="string">&#x27;new&#x27;</span>)</span><br><span class="line">    f.seek(<span class="number">0</span>)  <span class="comment"># 回到文件开头</span></span><br><span class="line">    f.write(new_content)</span><br><span class="line">    f.truncate()  <span class="comment"># 截断多余内容</span></span><br></pre></td></tr></table></figure>



<h4 id="高级技巧"><a href="#高级技巧" class="headerlink" title="高级技巧"></a>高级技巧</h4><h5 id="跨平台路径处理"><a href="#跨平台路径处理" class="headerlink" title="跨平台路径处理"></a>跨平台路径处理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config_path = Path(<span class="string">&#x27;config&#x27;</span>) / <span class="string">&#x27;app&#x27;</span> / <span class="string">&#x27;settings.yaml&#x27;</span>  <span class="comment"># 自动适配不同系统路径分隔符</span></span><br></pre></td></tr></table></figure>



<h5 id="临时文件处理"><a href="#临时文件处理" class="headerlink" title="临时文件处理"></a>临时文件处理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tempfile <span class="keyword">import</span> NamedTemporaryFile</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> NamedTemporaryFile(delete=<span class="literal">False</span>) <span class="keyword">as</span> tmp:</span><br><span class="line">    tmp.write(<span class="string">b&#x27;临时数据&#x27;</span>)</span><br><span class="line">    tmp_path = tmp.name  <span class="comment"># 获取临时文件路径</span></span><br><span class="line"><span class="comment"># 结束后手动删除</span></span><br><span class="line">Path(tmp_path).unlink()</span><br></pre></td></tr></table></figure>



<h5 id="文件监控"><a href="#文件监控" class="headerlink" title="文件监控"></a>文件监控</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 需安装：pip install watchfiles</span></span><br><span class="line"><span class="keyword">from</span> watchfiles <span class="keyword">import</span> watch</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> changes <span class="keyword">in</span> watch(<span class="string">&#x27;./data&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;检测到文件变化: <span class="subst">&#123;changes&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="IO操作"><a href="#IO操作" class="headerlink" title="IO操作"></a>IO操作</h3><h4 id="查（Read）操作-1"><a href="#查（Read）操作-1" class="headerlink" title="查（Read）操作"></a>查（Read）操作</h4><h5 id="文本文件读取"><a href="#文本文件读取" class="headerlink" title="文本文件读取"></a>文本文件读取</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用pathlib自动管理资源</span></span><br><span class="line">file_path = Path(<span class="string">&quot;data.txt&quot;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    content = file_path.read_text(encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;文件不存在&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> UnicodeDecodeError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;编码错误&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="二进制文件读取"><a href="#二进制文件读取" class="headerlink" title="二进制文件读取"></a>二进制文件读取</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;image.png&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">while</span> chunk := f.read(<span class="number">4096</span>):  <span class="comment"># 分块读取大文件</span></span><br><span class="line">        process(chunk)</span><br></pre></td></tr></table></figure>



<h4 id="增（Create-Write）操作"><a href="#增（Create-Write）操作" class="headerlink" title="增（Create&#x2F;Write）操作"></a>增（Create&#x2F;Write）操作</h4><h5 id="安全写入文本文件"><a href="#安全写入文本文件" class="headerlink" title="安全写入文本文件"></a>安全写入文本文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output_path = Path(<span class="string">&quot;output.log&quot;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    output_path.write_text(<span class="string">&quot;2025年最新数据\n&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>, errors=<span class="string">&quot;replace&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> PermissionError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;无写入权限&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="追加写入文件"><a href="#追加写入文件" class="headerlink" title="追加写入文件"></a>追加写入文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;app.log&quot;</span>, <span class="string">&quot;a&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">f&quot;[<span class="subst">&#123;datetime.now()&#125;</span>] 系统运行正常\n&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="改（Update）操作-1"><a href="#改（Update）操作-1" class="headerlink" title="改（Update）操作"></a>改（Update）操作</h4><h5 id="原地修改文件内容"><a href="#原地修改文件内容" class="headerlink" title="原地修改文件内容"></a>原地修改文件内容</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">file_path = Path(<span class="string">&quot;config.ini&quot;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> file_path.<span class="built_in">open</span>(<span class="string">&quot;r+&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        content = f.read()</span><br><span class="line">        new_content = content.replace(<span class="string">&quot;old_value&quot;</span>, <span class="string">&quot;new_value&quot;</span>)</span><br><span class="line">        f.seek(<span class="number">0</span>)</span><br><span class="line">        f.write(new_content)</span><br><span class="line">        f.truncate()  <span class="comment"># 截断多余内容</span></span><br><span class="line"><span class="keyword">except</span> IOError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;修改失败: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="安全替换文件"><a href="#安全替换文件" class="headerlink" title="安全替换文件"></a>安全替换文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">temp_path = Path(<span class="string">&quot;temp.txt&quot;</span>)</span><br><span class="line"><span class="keyword">with</span> temp_path.<span class="built_in">open</span>(<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> tmp:</span><br><span class="line">    tmp.write(<span class="string">&quot;新内容&quot;</span>)</span><br><span class="line"></span><br><span class="line">temp_path.replace(<span class="string">&quot;original.txt&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="删（Delete）操作-1"><a href="#删（Delete）操作-1" class="headerlink" title="删（Delete）操作"></a>删（Delete）操作</h4><h5 id="清空文件内容"><a href="#清空文件内容" class="headerlink" title="清空文件内容"></a>清空文件内容</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Path(<span class="string">&quot;clear.txt&quot;</span>).write_text(<span class="string">&quot;&quot;</span>)  <span class="comment"># 安全清空</span></span><br></pre></td></tr></table></figure>



<h5 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">target = Path(<span class="string">&quot;obsolete.dat&quot;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    target.unlink(missing_ok=<span class="literal">True</span>)  <span class="comment"># 等效于os.remove</span></span><br><span class="line"><span class="keyword">except</span> PermissionError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;删除权限不足&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="高级IO技巧"><a href="#高级IO技巧" class="headerlink" title="高级IO技巧"></a>高级IO技巧</h4><h5 id="内存流操作"><a href="#内存流操作" class="headerlink" title="内存流操作"></a>内存流操作</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> io.StringIO() <span class="keyword">as</span> buffer:</span><br><span class="line">    buffer.write(<span class="string">&quot;内存临时数据&quot;</span>)</span><br><span class="line">    buffer.seek(<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(buffer.read())</span><br></pre></td></tr></table></figure>



<h5 id="二进制流分块处理"><a href="#二进制流分块处理" class="headerlink" title="二进制流分块处理"></a>二进制流分块处理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;large.bin&quot;</span>, <span class="string">&quot;rb+&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.seek(<span class="number">1024</span>)</span><br><span class="line">    f.write(<span class="string">b&quot;NEW_BLOCK_DATA&quot;</span>)  <span class="comment"># 直接修改指定位置数据</span></span><br></pre></td></tr></table></figure>



<h5 id="异步IO操作"><a href="#异步IO操作" class="headerlink" title="异步IO操作"></a>异步IO操作</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> aiofiles</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">async_write</span>():</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> aiofiles.<span class="built_in">open</span>(<span class="string">&quot;async.log&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">await</span> f.write(<span class="string">&quot;异步写入内容&quot;</span>)</span><br></pre></td></tr></table></figure>



<h1 id="Python面向对象"><a href="#Python面向对象" class="headerlink" title="Python面向对象"></a>Python面向对象</h1><h2 id="面向对象编程的核心思想"><a href="#面向对象编程的核心思想" class="headerlink" title="面向对象编程的核心思想"></a>面向对象编程的核心思想</h2><p>面向对象编程（<strong>Object-Oriented Programming, OOP</strong>）是一种以<strong>对象</strong>为中心的编程范式，通过将数据（属性）和行为（方法）封装为独立实体，模拟现实世界的结构和交互。相较于传统的<strong>面向过程编程</strong>（以函数和流程为核心），OOP 更强调代码的<strong>模块化</strong>、<strong>可复用性</strong>和<strong>可维护性</strong>。</p>
<h2 id="类与对象：OOP的基石"><a href="#类与对象：OOP的基石" class="headerlink" title="类与对象：OOP的基石"></a>类与对象：OOP的基石</h2><ol>
<li><p><strong>类（Class）</strong></p>
<ul>
<li><p><strong>定义</strong>：类是对象的抽象模板，描述一类对象的共同属性和方法。</p>
</li>
<li><p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):  </span><br><span class="line">        self.name = name  <span class="comment"># 属性  </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):      <span class="comment"># 方法  </span></span><br><span class="line">        <span class="keyword">pass</span>  </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>对象（Object）</strong></p>
<ul>
<li><p><strong>定义</strong>：对象是类的具体实例，拥有类定义的属性和方法。</p>
</li>
<li><p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dog = Animal(<span class="string">&quot;Buddy&quot;</span>)  <span class="comment"># 创建Animal类的实例  </span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h2 id="OOP三大核心特性"><a href="#OOP三大核心特性" class="headerlink" title="OOP三大核心特性"></a>OOP三大核心特性</h2><h3 id="封装（Encapsulation）"><a href="#封装（Encapsulation）" class="headerlink" title="封装（Encapsulation）"></a>封装（Encapsulation）</h3><ul>
<li><p><strong>核心思想</strong>：隐藏对象的内部实现细节，仅通过公开的接口与外界交互。</p>
</li>
<li><p>作用：</p>
<ul>
<li>提高安全性（如通过私有属性限制直接访问）</li>
<li>简化复杂度（用户无需关心内部逻辑）</li>
</ul>
</li>
<li><p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BankAccount</span>:  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):  </span><br><span class="line">        self.__balance = <span class="number">0</span>  <span class="comment"># 私有属性  </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deposit</span>(<span class="params">self, amount</span>):  <span class="comment"># 公开方法  </span></span><br><span class="line">        <span class="keyword">if</span> amount &gt; <span class="number">0</span>:  </span><br><span class="line">            self.__balance += amount  </span><br><span class="line"></span><br><span class="line">account = BankAccount()  </span><br><span class="line">account.deposit(<span class="number">100</span>)  <span class="comment"># 通过方法操作数据，而非直接修改__balance  </span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="继承（Inheritance）"><a href="#继承（Inheritance）" class="headerlink" title="继承（Inheritance）"></a>继承（Inheritance）</h3><ul>
<li><p><strong>核心思想</strong>：子类继承父类的属性和方法，实现代码复用和层次化扩展。</p>
</li>
<li><p>类型：</p>
<ul>
<li>单继承（Python、Java）</li>
<li>多继承（Python支持，需谨慎使用）</li>
</ul>
</li>
<li><p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Woof!&quot;</span>  </span><br><span class="line"></span><br><span class="line">dog = Dog(<span class="string">&quot;Buddy&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(dog.speak())  <span class="comment"># 输出: Woof!  </span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="多态（Polymorphism）"><a href="#多态（Polymorphism）" class="headerlink" title="多态（Polymorphism）"></a>多态（Polymorphism）</h3><ul>
<li><p><strong>核心思想</strong>：同一接口在不同对象中表现出不同行为。</p>
</li>
<li><p>实现方式：</p>
<ul>
<li>方法重写（子类覆盖父类方法）</li>
<li>接口抽象（不同类实现相同接口）</li>
</ul>
</li>
<li><p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Meow!&quot;</span>  </span><br><span class="line"></span><br><span class="line">animals = [Dog(<span class="string">&quot;Buddy&quot;</span>), Cat(<span class="string">&quot;Whiskers&quot;</span>)]  </span><br><span class="line"><span class="keyword">for</span> animal <span class="keyword">in</span> animals:  </span><br><span class="line">    <span class="built_in">print</span>(animal.speak())  <span class="comment"># 输出: Woof!  Meow!  </span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="init-（初始化）"><a href="#init-（初始化）" class="headerlink" title="__init__（初始化）"></a>__init__（初始化）</h2><p><code>__init__</code>是Python中的<strong>初始化方法</strong>（非严格意义上的构造函数），在对象实例化时<font color="red">自动调用</font>。它主要负责设置对象初始状态（如属性赋值）</p>
<p>在Python中构造函数为<code>__new__</code>，负责创建并返回实例（用户通常无需重写）</p>
<p>代码示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Robot</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name  <span class="comment"># 初始化实例属性</span></span><br><span class="line"></span><br><span class="line">robot = Robot(<span class="string">&quot;Optimus&quot;</span>)  <span class="comment"># 自动调用__init__</span></span><br></pre></td></tr></table></figure>



<h2 id="slots-（属性白名单）"><a href="#slots-（属性白名单）" class="headerlink" title="__slots__（属性白名单）"></a>__slots__（属性白名单）</h2><p>当不希望其他开发者对类动态添加额外属性时：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">		self.name = name</span><br><span class="line"></span><br><span class="line">dog = Animal(<span class="string">&quot;小黄&quot;</span>)</span><br><span class="line">dog.age = <span class="number">5</span>	<span class="comment"># 添加了额外属性</span></span><br></pre></td></tr></table></figure>

<p>可以使用<code>__slots__</code>方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SafeAnimal</span>:</span><br><span class="line">    __slots__ = (<span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>)  <span class="comment"># 白名单限制</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">rabbit = SafeAnimal(<span class="string">&quot;Bunny&quot;</span>)</span><br><span class="line">rabbit.age = <span class="number">2</span>  <span class="comment"># 允许 ✅</span></span><br><span class="line">rabbit.weight = <span class="number">1.5</span>  <span class="comment"># AttributeError ❌</span></span><br></pre></td></tr></table></figure>

<ul>
<li>优点：节省内存（无需维护<code>__dict__</code>），显式控制属性</li>
<li>局限：无法继承使用<code>__dict__</code>的父类，不支持动态添加</li>
</ul>
<h2 id="setattr-（动态属性拦截）"><a href="#setattr-（动态属性拦截）" class="headerlink" title="__setattr__（动态属性拦截）"></a>__setattr__（动态属性拦截）</h2><p>和<code>__slots__</code>方法类似，可以阻止动态添加属性：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StrictAnimal</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__setattr__</span>(<span class="params">self, name, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(self, name):</span><br><span class="line">            <span class="keyword">raise</span> AttributeError(<span class="string">f&quot;禁止动态添加属性：<span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="built_in">super</span>().__setattr__(name, value)</span><br><span class="line"></span><br><span class="line">fox = StrictAnimal(<span class="string">&quot;Foxy&quot;</span>)</span><br><span class="line">fox.age = <span class="number">3</span>  <span class="comment"># AttributeError ❌</span></span><br></pre></td></tr></table></figure>



<h2 id="solts与setattr的选择"><a href="#solts与setattr的选择" class="headerlink" title="solts与setattr的选择"></a><code>solts</code>与<code>setattr</code>的选择</h2><table>
<thead>
<tr>
<th><strong>场景</strong></th>
<th><strong>推荐方案</strong></th>
<th><strong>特点</strong></th>
</tr>
</thead>
<tbody><tr>
<td>高性能&#x2F;内存敏感</td>
<td><code>__slots__</code></td>
<td>内存节省20%~50%，属性严格限制</td>
</tr>
<tr>
<td>传统业务系统</td>
<td>动态拦截(<code>__setattr__</code>)</td>
<td>灵活控制，可自定义错误处理逻辑</td>
</tr>
<tr>
<td>快速原型&#x2F;脚本开发</td>
<td>原生动态属性</td>
<td>最大化开发效率</td>
</tr>
</tbody></table>
<h2 id="dict-（对象属性字典）"><a href="#dict-（对象属性字典）" class="headerlink" title="__dict__（对象属性字典）"></a>__dict__（对象属性字典）</h2><p><code>__dict__</code>是Python对象的特殊属性，存储<strong>实例级属性</strong>的键值对，键为属性名，值为属性数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name  <span class="comment"># 存入__dict__</span></span><br><span class="line"></span><br><span class="line">u = User(<span class="string">&quot;Alice&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(u.__dict__)  <span class="comment"># 输出：&#123;&#x27;name&#x27;: &#x27;Alice&#x27;&#125;</span></span><br></pre></td></tr></table></figure>



<table>
<thead>
<tr>
<th><strong>对象类型</strong></th>
<th><code>__dict__</code> 内容</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><strong>类实例</strong></td>
<td>实例属性（不含类属性）</td>
<td><code>&#123;&#39;name&#39;: &#39;Alice&#39;&#125;</code></td>
</tr>
<tr>
<td><strong>类对象</strong></td>
<td>类属性、方法、装饰器等</td>
<td><code>&#123;&#39;__module__&#39;: &#39;__main__&#39;, ...&#125;</code></td>
</tr>
<tr>
<td><strong>模块对象</strong></td>
<td>模块内定义的所有变量&#x2F;函数</td>
<td><code>&#123;&#39;User&#39;: &lt;class &#39;__main__.User&#39;&gt;, ...&#125;</code></td>
</tr>
</tbody></table>
<h3 id="核心应用场景"><a href="#核心应用场景" class="headerlink" title="核心应用场景"></a>核心应用场景</h3><h4 id="动态属性管理"><a href="#动态属性管理" class="headerlink" title="动态属性管理"></a>动态属性管理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 动态添加属性</span></span><br><span class="line">u.__dict__[<span class="string">&quot;age&quot;</span>] = <span class="number">25</span>  <span class="comment"># 等价于 u.age = 25</span></span><br><span class="line"><span class="comment"># 动态删除属性</span></span><br><span class="line"><span class="keyword">del</span> u.__dict__[<span class="string">&quot;name&quot;</span>]  <span class="comment"># 等价于 del u.name</span></span><br></pre></td></tr></table></figure>

<h4 id="对象序列化"><a href="#对象序列化" class="headerlink" title="对象序列化"></a>对象序列化</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment"># 对象转JSON（需先转为字典）</span></span><br><span class="line">user_dict = u.__dict__.copy()</span><br><span class="line">user_dict[<span class="string">&quot;timestamp&quot;</span>] = <span class="number">20250421</span>  <span class="comment"># 扩展数据</span></span><br><span class="line">json_data = json.dumps(user_dict)</span><br></pre></td></tr></table></figure>

<h4 id="元编程操作"><a href="#元编程操作" class="headerlink" title="元编程操作"></a>元编程操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 批量修改属性</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> u.__dict__:</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(u.__dict__[key], <span class="built_in">str</span>):</span><br><span class="line">        u.__dict__[key] = u.__dict__[key].upper()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 属性访问拦截</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoggedUser</span>(<span class="title class_ inherited__">User</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getattribute__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;访问属性: <span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>().__getattribute__(name)</span><br></pre></td></tr></table></figure>



<h2 id="self参数"><a href="#self参数" class="headerlink" title="self参数"></a>self参数</h2><p><code>self</code>是约定名称（可改名但不建议），表示<strong>当前对象实例的引用</strong>，用于访问实例属性和方法</p>
<p><strong>运行机制</strong></p>
<ul>
<li>Python解释器自动将实例作为<font color="red">第一个参数传递</font></li>
<li>通过<code>self</code>实现实例间的数据隔离（每个实例维护独立属性）</li>
</ul>
<p><strong>实践场景</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BankAccount</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, balance=<span class="number">0</span></span>):</span><br><span class="line">        self.balance = balance  <span class="comment"># 实例属性</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deposit</span>(<span class="params">self, amount</span>):  <span class="comment"># 必须包含self</span></span><br><span class="line">        self.balance += amount</span><br></pre></td></tr></table></figure>



<h2 id="静态属性"><a href="#静态属性" class="headerlink" title="静态属性"></a>静态属性</h2><ul>
<li><strong>静态属性（类属性）</strong>：直接定义在类命名空间中的变量，属于类本身而非实例。所有实例共享同一份类属性。</li>
<li>关键特征：<ul>
<li><strong>共享性</strong>：所有实例访问同一份类属性值。</li>
<li><strong>独立性</strong>：修改类属性会全局影响所有实例（除非实例覆盖同名属性）。</li>
<li><strong>直接访问</strong>：无需实例化即可通过类名访问。</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>:</span><br><span class="line">    pi = <span class="number">3.14</span>   <span class="comment"># 静态属性</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, radius</span>):</span><br><span class="line">        self.radius = radius</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_area</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.pi * self.radius ** <span class="number">2</span></span><br></pre></td></tr></table></figure>



<h2 id="classmethod"><a href="#classmethod" class="headerlink" title="@classmethod"></a>@classmethod</h2><p>在 Python 中，<code>@classmethod</code>是一个内置装饰器，用于定义<strong>类方法</strong>。类方法属于类本身而非类的实例，可直接通过类名调用，无需创建实例对象。以下是其核心要点</p>
<h3 id="核心特性"><a href="#核心特性" class="headerlink" title="核心特性"></a>核心特性</h3><ul>
<li>参数约定：类方法的第一个参数必须是<code>cls</code>（类本身），而非实例方法的<code>self</code>。</li>
<li>访问权限：可直接通过<code>cls</code>访问类属性、调用其他类方法，但无法直接访问实例属性（需实例化后操作）。</li>
<li><strong>调用方式</strong>：支持通过类名或实例调用（本质仍由类处理）。</li>
</ul>
<h3 id="常见使用场景"><a href="#常见使用场景" class="headerlink" title="常见使用场景"></a>常见使用场景</h3><h4 id="替代构造函数"><a href="#替代构造函数" class="headerlink" title="替代构造函数"></a>替代构造函数</h4><p>允许通过不同数据格式（如字符串、字典）创建实例，增强灵活性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, year, month, day</span>):</span><br><span class="line">        self.year = year</span><br><span class="line">        self.month = month</span><br><span class="line">        self.day = day</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">from_string</span>(<span class="params">cls, date_str</span>):  <span class="comment"># 从&quot;YYYY-MM-DD&quot;字符串创建实例</span></span><br><span class="line">        year, month, day = <span class="built_in">map</span>(<span class="built_in">int</span>, date_str.split(<span class="string">&quot;-&quot;</span>))</span><br><span class="line">        <span class="keyword">return</span> cls(year, month, day)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用类方法创建实例（无需手动解析）</span></span><br><span class="line">date = Date.from_string(<span class="string">&quot;2025-05-01&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h4><p>根据输入参数返回不同子类实例，隐藏具体实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">cls, animal_type</span>):</span><br><span class="line">        <span class="keyword">if</span> animal_type == <span class="string">&quot;dog&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> Dog()</span><br><span class="line">        <span class="keyword">elif</span> animal_type == <span class="string">&quot;cat&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> Cat()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&quot;Unknown animal type&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>): <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过工厂方法创建对象</span></span><br><span class="line">pet = Animal.create(<span class="string">&quot;dog&quot;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="类状态管理"><a href="#类状态管理" class="headerlink" title="类状态管理"></a>类状态管理</h4><p>操作类级别属性（如计数器、配置项）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span>:</span><br><span class="line">    _log_level = <span class="string">&quot;INFO&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_log_level</span>(<span class="params">cls, level</span>):</span><br><span class="line">        cls._log_level = level.upper()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 直接修改类属性</span></span><br><span class="line">Logger.set_log_level(<span class="string">&quot;debug&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(Logger._log_level)  <span class="comment"># 输出: DEBUG</span></span><br></pre></td></tr></table></figure>



<h3 id="典型示例"><a href="#典型示例" class="headerlink" title="典型示例"></a>典型示例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>:</span><br><span class="line">    wheels = <span class="number">4</span>  <span class="comment"># 类属性</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, brand</span>):</span><br><span class="line">        self.brand = brand  <span class="comment"># 实例属性</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">change_wheels</span>(<span class="params">cls, num</span>):</span><br><span class="line">        cls.wheels = num    <span class="comment"># 修改类属性</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;All cars now have <span class="subst">&#123;cls.wheels&#125;</span> wheels.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过类名调用类方法</span></span><br><span class="line">Car.change_wheels(<span class="number">6</span>)        <span class="comment"># 输出: All cars now have 6 wheels.</span></span><br><span class="line"><span class="built_in">print</span>(Car.wheels)           <span class="comment"># 输出: 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例也可调用（但逻辑仍作用于类）</span></span><br><span class="line">my_car = Car(<span class="string">&quot;Tesla&quot;</span>)</span><br><span class="line">my_car.change_wheels(<span class="number">8</span>)     <span class="comment"># 输出: All cars now have 8 wheels.</span></span><br></pre></td></tr></table></figure>



<h2 id="staticmethod"><a href="#staticmethod" class="headerlink" title="@staticmethod"></a>@staticmethod</h2><p><code>@staticmethod</code>是 Python 的装饰器，用于定义 <strong>静态方法</strong>。其本质是将普通函数封装到类命名空间中，与类和实例无直接数据依赖。</p>
<table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>参数要求</strong></td>
<td>无强制参数（无需 <code>self</code> 或 <code>cls</code>）</td>
</tr>
<tr>
<td><strong>访问权限</strong></td>
<td>无法直接访问类属性或实例属性</td>
</tr>
<tr>
<td><strong>调用方式</strong></td>
<td>通过类名或实例调用（推荐类名调用）</td>
</tr>
<tr>
<td><strong>继承行为</strong></td>
<td>子类继承父类静态方法时，方法逻辑固定，无法动态绑定到子类</td>
</tr>
</tbody></table>
<h3 id="定义语法与示例"><a href="#定义语法与示例" class="headerlink" title="定义语法与示例"></a>定义语法与示例</h3><h4 id="基础定义"><a href="#基础定义" class="headerlink" title="基础定义"></a>基础定义</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MathUtils</span>:</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">        <span class="keyword">return</span> a + b  <span class="comment"># 纯计算逻辑，无类/实例依赖</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用方式</span></span><br><span class="line"><span class="built_in">print</span>(MathUtils.add(<span class="number">3</span>, <span class="number">5</span>))  <span class="comment"># 输出: 8 (推荐类名调用)</span></span><br><span class="line">obj = MathUtils()</span><br><span class="line"><span class="built_in">print</span>(obj.add(<span class="number">2</span>, <span class="number">3</span>))        <span class="comment"># 输出: 5 (通过实例调用，但不推荐)</span></span><br></pre></td></tr></table></figure>

<h4 id="动态添加"><a href="#动态添加" class="headerlink" title="动态添加"></a>动态添加</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log_message</span>(<span class="params">message</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;[LOG] <span class="subst">&#123;message&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">Logger.log = <span class="built_in">staticmethod</span>(log_message)  <span class="comment"># 动态添加静态方法</span></span><br><span class="line">Logger.log(<span class="string">&quot;System started&quot;</span>)  <span class="comment"># 输出: [LOG] System started</span></span><br></pre></td></tr></table></figure>



<h3 id="典型应用场景-3"><a href="#典型应用场景-3" class="headerlink" title="典型应用场景"></a>典型应用场景</h3><h4 id="场景1：工具函数封装"><a href="#场景1：工具函数封装" class="headerlink" title="场景1：工具函数封装"></a>场景1：工具函数封装</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DateValidator</span>:</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">is_valid_date</span>(<span class="params">year, month, day</span>):</span><br><span class="line">        <span class="comment"># 独立于类状态的日期验证逻辑</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            datetime.datetime(year, month, day)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">except</span> ValueError:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(DateValidator.is_valid_date(<span class="number">2025</span>, <span class="number">13</span>, <span class="number">1</span>))  <span class="comment"># 输出: False</span></span><br></pre></td></tr></table></figure>



<h4 id="场景2：辅助计算"><a href="#场景2：辅助计算" class="headerlink" title="场景2：辅助计算"></a>场景2：辅助计算</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Geometry</span>:</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">circle_area</span>(<span class="params">radius</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3.14159</span> * radius ** <span class="number">2</span>  <span class="comment"># 无需类/实例数据</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Geometry.circle_area(<span class="number">3</span>))  <span class="comment"># 输出: 28.27431</span></span><br></pre></td></tr></table></figure>



<h4 id="场景3：替代全局函数"><a href="#场景3：替代全局函数" class="headerlink" title="场景3：替代全局函数"></a>场景3：替代全局函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StringProcessor</span>:</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reverse</span>(<span class="params">s</span>):</span><br><span class="line">        <span class="keyword">return</span> s[::-<span class="number">1</span>]  <span class="comment"># 逻辑独立，但组织在相关类中</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(StringProcessor.reverse(<span class="string">&quot;hello&quot;</span>))  <span class="comment"># 输出: olleh</span></span><br></pre></td></tr></table></figure>



<h3 id="与相关概念的对比"><a href="#与相关概念的对比" class="headerlink" title="与相关概念的对比"></a>与相关概念的对比</h3><table>
<thead>
<tr>
<th><strong>方法类型</strong></th>
<th><code>@staticmethod</code></th>
<th><code>@classmethod</code></th>
<th>实例方法</th>
</tr>
</thead>
<tbody><tr>
<td><strong>首个参数</strong></td>
<td>无</td>
<td><code>cls</code>（类对象）</td>
<td><code>self</code>（实例对象）</td>
</tr>
<tr>
<td><strong>访问类属性</strong></td>
<td>❌</td>
<td>✅（通过 <code>cls</code>）</td>
<td>✅（通过 <code>self.__class__</code>）</td>
</tr>
<tr>
<td><strong>访问实例属性</strong></td>
<td>❌</td>
<td>❌（需实例化后访问）</td>
<td>✅</td>
</tr>
<tr>
<td><strong>多态支持</strong></td>
<td>❌</td>
<td>✅（<code>cls</code> 动态绑定子类）</td>
<td>✅</td>
</tr>
<tr>
<td><strong>内存占用</strong></td>
<td>类级别共享</td>
<td>类级别共享</td>
<td>每个实例独立</td>
</tr>
</tbody></table>
<p>总结：当不涉及对类的属性进行操作时（访问、修改），选择<code>@staticmethod</code>，反之则选择<code>@classmethod</code></p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p><strong>Python写法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):  <span class="comment"># 括号内指定父类</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>



<p><strong>Java等价写法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;  <span class="comment">// 使用extends关键字</span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="核心差异点"><a href="#核心差异点" class="headerlink" title="核心差异点"></a>核心差异点</h3><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th>Python</th>
<th>Java</th>
</tr>
</thead>
<tbody><tr>
<td>继承声明方式</td>
<td>类名后括号列父类</td>
<td>extends关键字</td>
</tr>
<tr>
<td>多重继承支持</td>
<td>原生支持（逗号分隔多父类）</td>
<td>仅单继承，需用接口实现多态</td>
</tr>
<tr>
<td>抽象类要求</td>
<td>无强制抽象关键字</td>
<td>需用abstract声明</td>
</tr>
<tr>
<td>构造器调用逻辑</td>
<td>显式调用父类<code>__init__</code></td>
<td>自动调用super()构造函数</td>
</tr>
</tbody></table>
<h3 id="父类顺序"><a href="#父类顺序" class="headerlink" title="父类顺序"></a>父类顺序</h3><h4 id="MRO"><a href="#MRO" class="headerlink" title="MRO"></a>MRO</h4><p>Python通过<strong>C3线性化算法</strong>确定多继承的初始化顺序，其核心规则：</p>
<ol>
<li><strong>子类优先</strong>：子类初始化方法优先于父类</li>
<li><strong>从左到右</strong>：按继承列表顺序处理父类</li>
<li><strong>唯一性</strong>：每个父类只初始化一次</li>
</ol>
<h4 id="执行逻辑"><a href="#执行逻辑" class="headerlink" title="执行逻辑"></a>执行逻辑</h4><ul>
<li>非直接调用父类：<code>super()</code>并非直接调用父类，而是根据当前类的MRO列表决定下一个要调用的类</li>
<li><strong>动态查找</strong>：在继承链中按MRO顺序依次触发初始化</li>
</ul>
<h4 id="执行流程示例"><a href="#执行流程示例" class="headerlink" title="执行流程示例"></a>执行流程示例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(A, B):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;C&quot;</span>)</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">obj = C()</span><br></pre></td></tr></table></figure>

<p><strong>输出结果：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C → A → B → object</span><br></pre></td></tr></table></figure>

<p><strong>MRO顺序</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C.mro() = [C, A, B, <span class="built_in">object</span>]</span><br></pre></td></tr></table></figure>



<h4 id="查看MRO"><a href="#查看MRO" class="headerlink" title="查看MRO"></a>查看MRO</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(ClassName.__mro__)</span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line"><span class="built_in">print</span>(ClassName.mro())</span><br></pre></td></tr></table></figure>



<h4 id="初始化中断场景"><a href="#初始化中断场景" class="headerlink" title="初始化中断场景"></a>初始化中断场景</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)  <span class="comment"># 未调用super()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(B, <span class="built_in">int</span>):  <span class="comment"># 继承内置类型</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;C&quot;</span>)</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">obj = C()  <span class="comment"># 输出：C → B → A（int未初始化）</span></span><br></pre></td></tr></table></figure>

<p><font color="red">当某个父类未调用<code>super().__init__()</code>时，后续父类初始化将中断</font></p>
<h4 id="强制调用指定父类"><a href="#强制调用指定父类" class="headerlink" title="强制调用指定父类"></a>强制调用指定父类</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(Parent1, Parent2):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        Parent2.__init__(self)  <span class="comment"># 绕过MRO直接调用</span></span><br><span class="line">        Parent1.__init__(self)</span><br></pre></td></tr></table></figure>

<p>非推荐做法，会破坏MRO规则（可能导致重复初始化）</p>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p><strong>多态（Polymorphism）</strong>：同一操作作用于不同对象时，对象会表现出不同的具体行为。Python通过<strong>动态类型</strong>和<strong>鸭子类型</strong>实现多态，无需显式接口定义。</p>
<p><strong>三大特性：</strong></p>
<ol>
<li><strong>继承</strong>：子类继承父类方法</li>
<li><strong>重写</strong>：子类修改父类方法实现</li>
<li><strong>统一调用</strong>：以相同方式调用不同对象的方法</li>
</ol>
<h3 id="基础示例"><a href="#基础示例" class="headerlink" title="基础示例"></a>基础示例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基类定义</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError(<span class="string">&quot;子类必须实现此方法&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 子类重写方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;汪汪！&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;喵～&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Duck</span>:</span><br><span class="line">    <span class="comment"># 无继承关系但实现相同方法（鸭子类型）</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;嘎嘎！&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统一调用方法</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">animal_sound</span>(<span class="params">obj</span>):</span><br><span class="line">    <span class="built_in">print</span>(obj.speak())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试多态</span></span><br><span class="line">animal_sound(Dog())    <span class="comment"># 输出：汪汪！</span></span><br><span class="line">animal_sound(Cat())    <span class="comment"># 输出：喵～</span></span><br><span class="line">animal_sound(Duck())   <span class="comment"># 输出：嘎嘎！ （无需继承）</span></span><br></pre></td></tr></table></figure>



<h3 id="进阶场景"><a href="#进阶场景" class="headerlink" title="进阶场景"></a>进阶场景</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Protocol</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义协议（替代抽象基类）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Shape</span>(<span class="title class_ inherited__">Protocol</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">area</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>: ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不同图形实现</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, radius: <span class="built_in">float</span></span>):</span><br><span class="line">        self.radius = radius</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">area</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3.1415</span> * self.radius ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, w: <span class="built_in">float</span>, h: <span class="built_in">float</span></span>):</span><br><span class="line">        self.width = w</span><br><span class="line">        self.height = h</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">area</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">        <span class="keyword">return</span> self.width * self.height</span><br><span class="line"></span><br><span class="line"><span class="comment"># 统一处理函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_area</span>(<span class="params">obj: Shape</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;图形面积：<span class="subst">&#123;obj.area():<span class="number">.2</span>f&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line">print_area(Circle(<span class="number">3</span>))      <span class="comment"># 输出：28.27</span></span><br><span class="line">print_area(Rectangle(<span class="number">4</span>,<span class="number">5</span>)) <span class="comment"># 输出：20.00</span></span><br></pre></td></tr></table></figure>



<h3 id="多态优势"><a href="#多态优势" class="headerlink" title="多态优势"></a>多态优势</h3><table>
<thead>
<tr>
<th>优势</th>
<th>说明</th>
<th>示例场景</th>
</tr>
</thead>
<tbody><tr>
<td><strong>代码复用</strong></td>
<td>统一接口减少重复代码</td>
<td>不同支付方式实现支付接口</td>
</tr>
<tr>
<td><strong>扩展灵活</strong></td>
<td>新增类无需修改调用代码</td>
<td>新增三角形类计算面积</td>
</tr>
<tr>
<td><strong>解耦设计</strong></td>
<td>调用方不依赖具体类实现</td>
<td>日志记录器支持多种存储方式</td>
</tr>
<tr>
<td><strong>动态替换</strong></td>
<td>运行时切换不同实现</td>
<td>根据配置选择数据库驱动</td>
</tr>
</tbody></table>
<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p><strong>封装</strong>（Encapsulation）是面向对象编程中将<strong>数据</strong>与<strong>操作数据的方法</strong>捆绑在一起的机制，通过隐藏内部细节实现：</p>
<ul>
<li>🔒 <strong>数据保护</strong>：防止外部直接修改敏感数据</li>
<li>🎭 <strong>隐藏实现</strong>：仅暴露必要操作接口</li>
<li>🔧 <strong>维护增强</strong>：内部修改不影响外部调用</li>
</ul>
<h3 id="Python实现封装的3种方式"><a href="#Python实现封装的3种方式" class="headerlink" title="Python实现封装的3种方式"></a>Python实现封装的3种方式</h3><h4 id="命名约定（弱封装）"><a href="#命名约定（弱封装）" class="headerlink" title="命名约定（弱封装）"></a>命名约定（弱封装）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, balance</span>):</span><br><span class="line">        self._balance = balance  <span class="comment"># 单下划线约定为&quot;受保护&quot;属性</span></span><br><span class="line"></span><br><span class="line">acc = Account(<span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(acc._balance)  <span class="comment"># 仍可访问（非强制）</span></span><br></pre></td></tr></table></figure>



<h4 id="名称修饰（强封装）"><a href="#名称修饰（强封装）" class="headerlink" title="名称修饰（强封装）"></a>名称修饰（强封装）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BankAccount</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, balance</span>):</span><br><span class="line">        self.__balance = balance  <span class="comment"># 双下划线触发名称修饰</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_balance</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__balance</span><br><span class="line"></span><br><span class="line">acc = BankAccount(<span class="number">500</span>)</span><br><span class="line"><span class="comment">#print(acc.__balance)         # ❌ 报错：AttributeError</span></span><br><span class="line"><span class="built_in">print</span>(acc._BankAccount__balance)  <span class="comment"># ✅ 500（了解机制但不要主动使用）</span></span><br></pre></td></tr></table></figure>



<h4 id="属性装饰器（推荐方案）"><a href="#属性装饰器（推荐方案）" class="headerlink" title="属性装饰器（推荐方案）"></a>属性装饰器（推荐方案）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.__name = name</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @property                  </span><span class="comment"># Getter方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__name.upper()</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @name.setter               </span><span class="comment"># Setter方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name</span>(<span class="params">self, new_name</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(new_name) &gt;= <span class="number">3</span>:</span><br><span class="line">            self.__name = new_name</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;姓名至少3个字符！&quot;</span>)</span><br><span class="line">            </span><br><span class="line">u = User(<span class="string">&quot;Alice&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(u.name)          <span class="comment"># ✅ ALICE</span></span><br><span class="line">u.name = <span class="string">&quot;Bob&quot;</span>         <span class="comment"># ✅ 修改成功</span></span><br><span class="line">u.name = <span class="string">&quot;A&quot;</span>           <span class="comment"># ❌ 输出警告，拒绝修改</span></span><br></pre></td></tr></table></figure>



<h3 id="完整案例"><a href="#完整案例" class="headerlink" title="完整案例"></a>完整案例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BankAccount</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, initial_balance=<span class="number">0</span></span>):</span><br><span class="line">        self.__name = name                <span class="comment"># 私有属性</span></span><br><span class="line">        self.__balance = initial_balance  <span class="comment"># 私有属性</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 公开方法（接口）</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deposit</span>(<span class="params">self, amount</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;存款&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> amount &gt; <span class="number">0</span>:</span><br><span class="line">            self.__balance += amount</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;存款成功，余额：<span class="subst">&#123;self.__balance&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;存款金额必须大于0&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">withdraw</span>(<span class="params">self, amount</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;取款&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt; amount &lt;= self.__balance:</span><br><span class="line">            self.__balance -= amount</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;取款成功，余额：<span class="subst">&#123;self.__balance&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;余额不足或金额无效&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 通过属性访问器控制数据</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">balance</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__balance</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用示例</span></span><br><span class="line">acc = BankAccount(<span class="string">&quot;张三&quot;</span>, <span class="number">1000</span>)</span><br><span class="line">acc.deposit(<span class="number">500</span>)    <span class="comment"># ✅ 存款成功，余额：1500</span></span><br><span class="line">acc.withdraw(<span class="number">2000</span>)  <span class="comment"># ❌ 余额不足</span></span><br><span class="line">acc.withdraw(<span class="number">800</span>)   <span class="comment"># ✅ 取款成功，余额：700</span></span><br><span class="line"><span class="built_in">print</span>(acc.balance)  <span class="comment"># ✅ 700（只读属性）</span></span><br></pre></td></tr></table></figure>





<h3 id="封装的优势"><a href="#封装的优势" class="headerlink" title="封装的优势"></a>封装的优势</h3><table>
<thead>
<tr>
<th><strong>场景</strong></th>
<th>未封装实现</th>
<th>封装实现</th>
<th>优势体现</th>
</tr>
</thead>
<tbody><tr>
<td><strong>余额查看</strong></td>
<td>直接访问属性</td>
<td>通过getter方法</td>
<td>可添加格式转换逻辑</td>
</tr>
<tr>
<td><strong>存款操作</strong></td>
<td>直接修改<code>balance</code></td>
<td>通过<code>deposit()</code>方法</td>
<td>自动验证金额有效性</td>
</tr>
<tr>
<td><strong>数据保护</strong></td>
<td>可能被设为负值</td>
<td><code>withdraw()</code>校验余额</td>
<td>确保数据一致性</td>
</tr>
</tbody></table>
<h2 id="魔法方法"><a href="#魔法方法" class="headerlink" title="魔法方法"></a>魔法方法</h2><p><strong>魔法方法（Magic Methods）</strong>是Python中以双下划线包裹的特殊方法（如<code>__init__</code>），用于自定义类与内置行为的交互机制。截至2025年最新实践，这些方法主要有两大作用：</p>
<ol>
<li>运算符重载：让自定义对象支持<code>+/-</code>等运算符</li>
<li>协议实现：响应<code>len()</code>&#x2F;<code>with</code>等内置函数的调用</li>
</ol>
<h3 id="高频方法"><a href="#高频方法" class="headerlink" title="高频方法"></a>高频方法</h3><h4 id="对象生命周期"><a href="#对象生命周期" class="headerlink" title="对象生命周期"></a>对象生命周期</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TimeMachine</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls, year</span>):  <span class="comment"># 创建实例（早于__init__执行）</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;🕰️ 正在创建<span class="subst">&#123;year&#125;</span>年的时光机...&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>().__new__(cls)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, year</span>):</span><br><span class="line">        self.year = year</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):  <span class="comment"># 对象销毁时触发</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;💥 <span class="subst">&#123;self.year&#125;</span>年的时光机已销毁&quot;</span>)</span><br><span class="line"></span><br><span class="line">machine = TimeMachine(<span class="number">2025</span>)  <span class="comment"># 输出：🕰️ 正在创建2025年的时光机...</span></span><br><span class="line"><span class="keyword">del</span> machine                  <span class="comment"># 输出：💥 2025年的时光机已销毁</span></span><br></pre></td></tr></table></figure>



<h4 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Vector3D</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, x, y, z</span>):</span><br><span class="line">        self.x, self.y, self.z = x, y, z</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self, other</span>):  <span class="comment"># 实现向量加法</span></span><br><span class="line">        <span class="keyword">return</span> Vector3D(self.x+other.x, self.y+other.y, self.z+other.z)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):  <span class="comment"># 定义print输出格式</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;Vector3D(<span class="subst">&#123;self.x&#125;</span>, <span class="subst">&#123;self.y&#125;</span>, <span class="subst">&#123;self.z&#125;</span>)&quot;</span></span><br><span class="line"></span><br><span class="line">v1 = Vector3D(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">v2 = Vector3D(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(v1 + v2)  <span class="comment"># 输出：Vector3D(5, 7, 9)</span></span><br></pre></td></tr></table></figure>



<h4 id="容器协议"><a href="#容器协议" class="headerlink" title="容器协议"></a>容器协议</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Playlist</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, songs</span>):</span><br><span class="line">        self.songs = <span class="built_in">list</span>(songs)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):  <span class="comment"># 支持下标访问</span></span><br><span class="line">        <span class="keyword">return</span> self.songs[index]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):  <span class="comment"># 响应len()函数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.songs)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__contains__</span>(<span class="params">self, song</span>):  <span class="comment"># 支持in运算符</span></span><br><span class="line">        <span class="keyword">return</span> song <span class="keyword">in</span> self.songs</span><br><span class="line"></span><br><span class="line">my_list = Playlist([<span class="string">&quot;孤勇者&quot;</span>, <span class="string">&quot;晴天&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(my_list))     <span class="comment"># 输出：2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;晴天&quot;</span> <span class="keyword">in</span> my_list) <span class="comment"># 输出：True</span></span><br></pre></td></tr></table></figure>



<h3 id="推荐实践"><a href="#推荐实践" class="headerlink" title="推荐实践"></a>推荐实践</h3><table>
<thead>
<tr>
<th><strong>场景</strong></th>
<th>推荐魔法方法组合</th>
<th>优势说明</th>
</tr>
</thead>
<tbody><tr>
<td>文件资源管理</td>
<td><code>__enter__</code> + <code>__exit__</code></td>
<td>自动关闭文件&#x2F;释放资源</td>
</tr>
<tr>
<td>数学运算扩展</td>
<td><code>__add__</code> + <code>__sub__</code></td>
<td>支持自定义数学运算</td>
</tr>
<tr>
<td>迭代器模式</td>
<td><code>__iter__</code> + <code>__next__</code></td>
<td>实现可迭代对象</td>
</tr>
<tr>
<td>快捷调用</td>
<td><code>__call__</code></td>
<td>使实例可像函数一样调用</td>
</tr>
</tbody></table>
<h4 id="上下文管理器示例"><a href="#上下文管理器示例" class="headerlink" title="上下文管理器示例"></a>上下文管理器示例</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DatabaseConnection</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;🔗 数据库连接已建立&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> self  <span class="comment"># 返回连接对象</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_val, exc_tb</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;🚪 数据库连接已关闭&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> DatabaseConnection() <span class="keyword">as</span> conn:  <span class="comment"># 自动管理资源</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;执行数据库操作...&quot;</span>)</span><br></pre></td></tr></table></figure>



</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Zhao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/04/06/Python/">http://example.com/2025/04/06/Python/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Norlcyan's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">Python基础知识</a><a class="post-meta__tags" href="/tags/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">Python面向对象</a></div><div class="post_share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Zhao</div><div class="author-info__description">人生最遗憾的，莫过于，轻易地放弃了不该放弃的，固执地，坚持了不该坚持的。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Noober-jpg"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">博客雏形有啦，以后想起来再继续优化吧</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Python%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">Python基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%B7%AE%E5%BC%82%E9%80%9F%E6%9F%A5%E8%A1%A8"><span class="toc-number">1.1.</span> <span class="toc-text">语法差异速查表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E5%87%BD%E6%95%B0%E2%80%94%E2%80%94Print"><span class="toc-number">1.2.</span> <span class="toc-text">打印函数——Print</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95"><span class="toc-number">1.2.1.</span> <span class="toc-text">基础用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%AF%B9%E8%B1%A1%E8%BE%93%E5%87%BA%EF%BC%88sep%E5%8F%82%E6%95%B0%EF%BC%89"><span class="toc-number">1.2.2.</span> <span class="toc-text">多对象输出（sep参数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA"><span class="toc-number">1.2.3.</span> <span class="toc-text">格式化输出</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#f-string"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">f-string</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#format"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">format</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">传统占位符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E6%8E%A7%E5%88%B6%E5%8F%82%E6%95%B0"><span class="toc-number">1.2.4.</span> <span class="toc-text">进阶控制参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8D%A2%E8%A1%8C%E6%8E%A7%E5%88%B6%EF%BC%88end%E5%8F%82%E6%95%B0%EF%BC%89"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">换行控制（end参数）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E6%97%B6%E5%88%B7%E6%96%B0%EF%BC%88flush%E5%8F%82%E6%95%B0%EF%BC%89"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">实时刷新（flush参数）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC%EF%BC%88%E4%B8%89%E5%BC%95%E5%8F%B7%EF%BC%89"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">多行文本（三引号）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%9C%BA%E6%99%AF%E5%A4%84%E7%90%86"><span class="toc-number">1.2.5.</span> <span class="toc-text">特殊场景处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">转义字符处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E8%B0%83%E8%AF%95%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">输出调试信息</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E5%87%BD%E6%95%B0%E2%80%94%E2%80%94Input"><span class="toc-number">1.3.</span> <span class="toc-text">输入函数——Input</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95-1"><span class="toc-number">1.3.1.</span> <span class="toc-text">基础用法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%9C%BA%E5%88%B6"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">类型转换机制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="toc-number">1.3.2.</span> <span class="toc-text">进阶使用技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%80%BC%E6%8E%A5%E6%94%B6%E5%A4%84%E7%90%86"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">多值接收处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E8%BE%93%E5%85%A5%E9%AA%8C%E8%AF%81"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">安全输入验证</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%9C%BA%E6%99%AF%E5%A4%84%E7%90%86-1"><span class="toc-number">1.3.3.</span> <span class="toc-text">特殊场景处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E8%BE%93%E5%85%A5%E5%A4%84%E7%90%86"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">多行输入处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E8%BE%93%E5%85%A5%E9%9A%90%E8%97%8F%EF%BC%88%E9%9C%80%E5%AE%89%E8%A3%85getpass%EF%BC%89"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">密码输入隐藏（需安装getpass）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%B7%E8%B1%A1%E8%BF%90%E7%AE%97%E7%AC%A6%E2%80%94%E2%80%94"><span class="toc-number">1.4.</span> <span class="toc-text">海象运算符——:&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%AE%9A%E4%B9%89"><span class="toc-number">1.4.1.</span> <span class="toc-text">基本定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.4.2.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.4.3.</span> <span class="toc-text">典型应用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">循环控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F%E4%BC%98%E5%8C%96"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">列表推导式优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">正则匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.4.</span> <span class="toc-text">运行原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD%E2%80%94%E2%80%94Type%E5%92%8CIsinstance"><span class="toc-number">1.5.</span> <span class="toc-text">类型判断——Type和Isinstance</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Type%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.1.</span> <span class="toc-text">Type方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">基础使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">进阶使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Isinstance%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.2.</span> <span class="toc-text">Isinstance方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8-1"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">基础使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB%E5%A4%84%E7%90%86"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">继承关系处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-1"><span class="toc-number">1.5.2.3.</span> <span class="toc-text">典型应用场景</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%B7%AE%E5%BC%82%E5%AF%B9%E6%AF%94"><span class="toc-number">1.5.3.</span> <span class="toc-text">核心差异对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%B1%87%E6%80%BB"><span class="toc-number">1.6.</span> <span class="toc-text">Python数据类型汇总</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E4%B8%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%B8%80%E4%BA%9B%E7%89%B9%E6%80%A7"><span class="toc-number">1.6.1.</span> <span class="toc-text">Python中字符串的一些特性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">官方语言特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E6%80%A7%E5%AF%B9%E6%AF%94"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">特性对比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%88%87%E7%89%87"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">基础切片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8D%E8%BD%AC%E9%BB%91%E7%A7%91%E6%8A%80"><span class="toc-number">1.6.1.4.</span> <span class="toc-text">反转黑科技</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E5%88%87%E7%89%87%EF%BC%88Python%E7%8B%AC%E6%9C%89%EF%BC%89"><span class="toc-number">1.6.1.5.</span> <span class="toc-text">多维切片（Python独有）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E7%90%86%E8%A7%A3"><span class="toc-number">1.6.1.6.</span> <span class="toc-text">快速理解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%B9%E7%95%8C%E8%87%AA%E5%8A%A8%E6%A0%A1%E5%87%86%E6%9C%BA%E5%88%B6"><span class="toc-number">1.6.1.7.</span> <span class="toc-text">边界自动校准机制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.6.2.</span> <span class="toc-text">数据类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">容器类型转换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E6%95%B4%E6%95%B0"><span class="toc-number">1.6.3.</span> <span class="toc-text">小整数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E6%95%B4%E6%95%B0%E6%B1%A0%E8%8C%83%E5%9B%B4"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">小整数池范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%8E%9F%E7%90%86"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">内存分配原理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%AE%E5%BC%82%EF%BC%88%E4%B8%8EJava%E7%9B%B8%E6%AF%94%EF%BC%89"><span class="toc-number">1.7.1.</span> <span class="toc-text">差异（与Java相比）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%A2%9E-%E8%87%AA%E5%87%8F%E8%BF%90%E7%AE%97"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">自增&#x2F;自减运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E6%B3%95%E8%BF%90%E7%AE%97"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">除法运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.3.</span> <span class="toc-text">成员运算符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">1.8.</span> <span class="toc-text">条件判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.9.</span> <span class="toc-text">循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.9.1.</span> <span class="toc-text">for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.9.2.</span> <span class="toc-text">while循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.9.3.</span> <span class="toc-text">循环控制语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#break%E4%B8%8Econtinue"><span class="toc-number">1.9.3.0.1.</span> <span class="toc-text">break与continue</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E5%9C%BA%E6%99%AF%E5%BA%94%E7%94%A8"><span class="toc-number">1.9.4.</span> <span class="toc-text">实际场景应用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%81%8D%E5%8E%86"><span class="toc-number">1.9.4.1.</span> <span class="toc-text">数据遍历</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-number">1.9.4.2.</span> <span class="toc-text">条件循环控制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%88%E5%A4%8D%E6%9D%82%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="toc-number">1.10.</span> <span class="toc-text">组合数据类型（复杂数据类型）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E7%9A%84%E9%80%9A%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.10.1.</span> <span class="toc-text">序列的通用操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8"><span class="toc-number">1.10.2.</span> <span class="toc-text">列表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="toc-number">1.10.2.1.</span> <span class="toc-text">列表核心特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%93%8D%E4%BD%9C"><span class="toc-number">1.10.2.2.</span> <span class="toc-text">核心操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A2%9E%E5%88%A0%E6%93%8D%E4%BD%9C%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94"><span class="toc-number">1.10.2.2.1.</span> <span class="toc-text">增删操作性能对比</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%88%87%E7%89%87"><span class="toc-number">1.10.2.2.2.</span> <span class="toc-text">查询与切片</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">1.10.2.2.3.</span> <span class="toc-text">排序新特性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F%E5%AE%9E%E6%88%98"><span class="toc-number">1.10.2.3.</span> <span class="toc-text">列表推导式实战</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-number">1.10.2.3.1.</span> <span class="toc-text">多维数据处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%BF%87%E6%BB%A4%E4%BC%98%E5%8C%96"><span class="toc-number">1.10.2.3.2.</span> <span class="toc-text">条件过滤优化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number">1.10.2.3.3.</span> <span class="toc-text">海量数据生成器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">1.10.3.</span> <span class="toc-text">元组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="toc-number">1.10.3.1.</span> <span class="toc-text">元组核心特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%93%8D%E4%BD%9C-1"><span class="toc-number">1.10.3.2.</span> <span class="toc-text">核心操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.10.3.2.1.</span> <span class="toc-text">元组方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#range%E5%87%BD%E6%95%B0"><span class="toc-number">1.10.4.</span> <span class="toc-text">range函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%BC%8F%E5%AF%B9%E6%AF%94"><span class="toc-number">1.10.4.1.</span> <span class="toc-text">基本模式对比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">1.10.4.2.</span> <span class="toc-text">最新特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.10.4.3.</span> <span class="toc-text">进阶应用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%86%E5%BA%8F%E7%94%9F%E6%88%90"><span class="toc-number">1.10.4.3.1.</span> <span class="toc-text">逆序生成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0%E5%A4%84%E7%90%86%EF%BC%88%E9%9C%80%E9%85%8D%E5%90%88numpy%EF%BC%89"><span class="toc-number">1.10.4.3.2.</span> <span class="toc-text">浮点数处理（需配合numpy）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%B9%E7%95%8C%E9%AA%8C%E8%AF%81"><span class="toc-number">1.10.4.3.3.</span> <span class="toc-text">边界验证</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97"><span class="toc-number">1.10.4.4.</span> <span class="toc-text">最佳实践指南</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">1.10.4.5.</span> <span class="toc-text">常见错误处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">1.10.5.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.10.5.1.</span> <span class="toc-text">数据结构特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%93%8D%E4%BD%9C-2"><span class="toc-number">1.10.5.2.</span> <span class="toc-text">核心操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">1.10.5.2.1.</span> <span class="toc-text">创建方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95"><span class="toc-number">1.10.5.2.2.</span> <span class="toc-text">安全访问方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.10.5.2.3.</span> <span class="toc-text">字典循环</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="toc-number">1.10.5.3.</span> <span class="toc-text">高级应用技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%AD%97%E5%85%B8%E5%A4%84%E7%90%86"><span class="toc-number">1.10.5.3.1.</span> <span class="toc-text">嵌套字典处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E8%A7%86%E5%9B%BE%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.10.5.3.2.</span> <span class="toc-text">字典视图对象</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2025%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.10.5.4.</span> <span class="toc-text">2025最佳实践</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%A0%87%E6%B3%A8%E8%A7%84%E8%8C%83"><span class="toc-number">1.10.5.4.1.</span> <span class="toc-text">类型标注规范</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.10.5.4.2.</span> <span class="toc-text">并发安全模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88"><span class="toc-number">1.10.5.4.3.</span> <span class="toc-text">内存优化方案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.10.6.</span> <span class="toc-text">可变与不可变数据类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Python%E8%BF%9B%E9%98%B6"><span class="toc-number">2.</span> <span class="toc-text">Python进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">2.1.</span> <span class="toc-text">异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84"><span class="toc-number">2.1.1.</span> <span class="toc-text">基础语法结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7"><span class="toc-number">2.1.2.</span> <span class="toc-text">进阶处理技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">多异常捕获</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E4%B8%8A%E4%B8%8B%E6%96%87%E4%BF%9D%E7%95%99"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">异常上下文保留</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E8%87%AA%E5%8A%A8%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.2.3.</span> <span class="toc-text">资源自动管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#raise%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">2.1.2.4.</span> <span class="toc-text">raise关键字</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E7%B1%BB%E5%9E%8B%E5%85%A8%E6%99%AF%E5%9B%BE"><span class="toc-number">2.1.3.</span> <span class="toc-text">异常类型全景图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%BC%82%E5%B8%B8%E4%BD%93%E7%B3%BB"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">内置异常体系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E9%A2%91%E5%BC%82%E5%B8%B8%E8%AF%B4%E6%98%8E"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">高频异常说明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E5%BC%80%E5%8F%91"><span class="toc-number">2.1.4.</span> <span class="toc-text">自定义异常开发</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%B7%AE%E5%BC%82"><span class="toc-number">2.2.1.</span> <span class="toc-text">核心差异</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E6%96%B9%E6%B3%95%E5%AE%9A%E4%B9%89"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">Java方法定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">Python函数定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">2.2.2.</span> <span class="toc-text">函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E5%80%BC%E4%BC%A0%E9%80%92%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">Java值传递示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">Python引用传递示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">可变参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%9C%81%E5%8F%82%E6%95%B0%EF%BC%88%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%EF%BC%89"><span class="toc-number">2.2.2.4.</span> <span class="toc-text">缺省参数（默认参数）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%B7%AE%E5%BC%82"><span class="toc-number">2.2.3.</span> <span class="toc-text">作用域差异</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">Java块级作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">2.2.3.2.</span> <span class="toc-text">Python函数级作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E8%AF%A6%E7%BB%86%E7%9A%84%E6%A1%88%E4%BE%8B"><span class="toc-number">2.2.3.3.</span> <span class="toc-text">更详细的案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98"><span class="toc-number">2.2.4.</span> <span class="toc-text">类型系统实战</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E5%BC%BA%E7%B1%BB%E5%9E%8B%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.2.4.1.</span> <span class="toc-text">Java强类型示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%8A%A8%E6%80%81%E7%B1%BB%E5%9E%8B%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.2.4.2.</span> <span class="toc-text">Python动态类型示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%EF%BC%88Lambda%EF%BC%89"><span class="toc-number">2.2.5.</span> <span class="toc-text">匿名函数（Lambda）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Java-Stream-API"><span class="toc-number">2.2.5.1.</span> <span class="toc-text">Java Stream API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%8E%9F%E7%94%9F%E6%94%AF%E6%8C%81"><span class="toc-number">2.2.5.2.</span> <span class="toc-text">Python原生支持</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E9%80%92%E5%BD%92"><span class="toc-number">2.2.6.</span> <span class="toc-text">函数递归</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">2.2.6.1.</span> <span class="toc-text">递归核心概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8%E6%A1%88%E4%BE%8B"><span class="toc-number">2.2.6.2.</span> <span class="toc-text">经典案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E8%BF%81%E7%A7%BB%E5%AE%9E%E8%B7%B5"><span class="toc-number">2.2.7.</span> <span class="toc-text">最佳迁移实践</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF%E5%BB%BA%E8%AE%AE"><span class="toc-number">2.2.8.</span> <span class="toc-text">学习路线建议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-number">2.3.</span> <span class="toc-text">常用内置函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#map%E5%87%BD%E6%95%B0"><span class="toc-number">2.3.1.</span> <span class="toc-text">map函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filter%E5%87%BD%E6%95%B0"><span class="toc-number">2.3.2.</span> <span class="toc-text">filter函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-number">2.4.</span> <span class="toc-text">模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">2.4.1.</span> <span class="toc-text">模块核心概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.2.</span> <span class="toc-text">模块导入方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91"><span class="toc-number">2.4.3.</span> <span class="toc-text">自定义模块开发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">2.4.4.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7"><span class="toc-number">2.4.5.</span> <span class="toc-text">调试技巧</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85"><span class="toc-number">2.5.</span> <span class="toc-text">包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%8C%85%E7%BB%93%E6%9E%84"><span class="toc-number">2.5.1.</span> <span class="toc-text">标准包结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E5%AF%BC%E5%85%A5%E6%9C%BA%E5%88%B6"><span class="toc-number">2.5.2.</span> <span class="toc-text">包的导入机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E6%96%B9%E5%BC%8F%E5%AF%B9%E6%AF%94"><span class="toc-number">2.5.2.1.</span> <span class="toc-text">导入方式对比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E8%A7%A3%E6%9E%90%E8%A7%84%E5%88%99"><span class="toc-number">2.5.2.2.</span> <span class="toc-text">路径解析规则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%88%86%E5%8F%91"><span class="toc-number">2.5.3.</span> <span class="toc-text">包的创建与分发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%8F%AF%E5%88%86%E5%8F%91%E5%8C%85"><span class="toc-number">2.5.3.1.</span> <span class="toc-text">创建可分发包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.5.3.2.</span> <span class="toc-text">本地安装开发模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">2.5.4.</span> <span class="toc-text">包管理工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B8%8E%E9%99%B7%E9%98%B1%E8%A7%84%E9%81%BF"><span class="toc-number">2.5.5.</span> <span class="toc-text">最佳实践与陷阱规避</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%85%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="toc-number">2.5.5.1.</span> <span class="toc-text">包设计原则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#init-py"><span class="toc-number">2.5.6.</span> <span class="toc-text">__init__.py</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%9C%BA%E6%99%AF%EF%BC%88%E7%A9%BA%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-number">2.5.6.1.</span> <span class="toc-text">基础场景（空文件）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%93%8D%E4%BD%9C"><span class="toc-number">2.5.6.2.</span> <span class="toc-text">初始化操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%9A%B4%E9%9C%B2%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.5.6.3.</span> <span class="toc-text">控制暴露接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%8C%85%E7%BB%93%E6%9E%84%E6%95%B4%E5%90%88"><span class="toc-number">2.5.6.4.</span> <span class="toc-text">复杂包结构整合</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%A0%87%E5%87%86%E5%BA%93"><span class="toc-number">2.6.</span> <span class="toc-text">常见的标准库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#random%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.6.1.</span> <span class="toc-text">random库的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E9%A2%91%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E5%8F%8A%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.6.1.1.</span> <span class="toc-text">高频使用场景及代码示例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-number">2.6.1.1.1.</span> <span class="toc-text">生成验证码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%89%93%E4%B9%B1%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">2.6.1.1.2.</span> <span class="toc-text">随机打乱数据集</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A0%E6%9D%83%E9%9A%8F%E6%9C%BA%E9%80%89%E6%8B%A9%EF%BC%882025-%E5%B9%B4%E6%96%B0%E7%89%B9%E6%80%A7%EF%BC%89"><span class="toc-number">2.6.1.1.3.</span> <span class="toc-text">加权随机选择（2025 年新特性）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%AE%89%E5%85%A8%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">2.6.1.1.4.</span> <span class="toc-text">生成安全随机数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="toc-number">2.6.1.2.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E5%AD%A6%E4%B9%A0"><span class="toc-number">2.6.1.3.</span> <span class="toc-text">扩展学习</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.6.2.</span> <span class="toc-text">re库的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E8%AF%A6%E8%A7%A3"><span class="toc-number">2.6.2.1.</span> <span class="toc-text">常用方法详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95"><span class="toc-number">2.6.2.2.</span> <span class="toc-text">正则表达式核心语法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%85%83%E5%AD%97%E7%AC%A6"><span class="toc-number">2.6.2.2.1.</span> <span class="toc-text">基础元字符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8F%E8%AF%8D%E6%8E%A7%E5%88%B6"><span class="toc-number">2.6.2.2.2.</span> <span class="toc-text">量词控制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%B8%8E%E5%BC%95%E7%94%A8"><span class="toc-number">2.6.2.2.3.</span> <span class="toc-text">分组与引用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E9%A2%91%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E4%B8%8E%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.6.2.3.</span> <span class="toc-text">高频应用场景与代码示例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%82%AE%E7%AE%B1%E9%AA%8C%E8%AF%81"><span class="toc-number">2.6.2.3.1.</span> <span class="toc-text">邮箱验证</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81"><span class="toc-number">2.6.2.3.2.</span> <span class="toc-text">提取电话号码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTML%E6%A0%87%E7%AD%BE%E5%86%85%E5%AE%B9%E6%8F%90%E5%8F%96"><span class="toc-number">2.6.2.3.3.</span> <span class="toc-text">HTML标签内容提取</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E8%AF%8D%E6%9B%BF%E6%8D%A2"><span class="toc-number">2.6.2.3.4.</span> <span class="toc-text">敏感词替换</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B8%8E%E5%B8%B8%E8%A7%81%E9%99%B7%E9%98%B1"><span class="toc-number">2.6.2.4.</span> <span class="toc-text">最佳实践与常见陷阱</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">2.6.2.4.1.</span> <span class="toc-text">性能优化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E4%B8%8E%E8%A7%84%E8%8C%83"><span class="toc-number">2.6.2.4.2.</span> <span class="toc-text">安全与规范</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF"><span class="toc-number">2.6.2.4.3.</span> <span class="toc-text">常见错误</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#socket%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.6.3.</span> <span class="toc-text">socket库的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.6.3.1.</span> <span class="toc-text">TCP通信基础步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.6.3.1.1.</span> <span class="toc-text">服务端代码示例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.6.3.1.2.</span> <span class="toc-text">客户端代码示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93"><span class="toc-number">2.6.4.</span> <span class="toc-text">第三方库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%BB%A5%E5%8F%8AIO%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.</span> <span class="toc-text">文件以及IO操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#open%E5%87%BD%E6%95%B0"><span class="toc-number">2.7.1.</span> <span class="toc-text">open函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3"><span class="toc-number">2.7.1.1.</span> <span class="toc-text">核心参数详解</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#with%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.7.2.</span> <span class="toc-text">with语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">2.7.2.1.</span> <span class="toc-text">核心概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E5%8E%9F%E5%9E%8B"><span class="toc-number">2.7.2.2.</span> <span class="toc-text">语法原型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-2"><span class="toc-number">2.7.2.3.</span> <span class="toc-text">典型应用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.2.3.1.</span> <span class="toc-text">文件操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-number">2.7.2.3.2.</span> <span class="toc-text">数据库连接池</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E9%94%81%E7%AE%A1%E7%90%86"><span class="toc-number">2.7.2.3.3.</span> <span class="toc-text">线程锁管理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95"><span class="toc-number">2.7.2.4.</span> <span class="toc-text">进阶用法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8"><span class="toc-number">2.7.2.4.1.</span> <span class="toc-text">自定义上下文管理器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E8%B5%84%E6%BA%90%E5%B9%B6%E8%A1%8C%E7%AE%A1%E7%90%86"><span class="toc-number">2.7.2.4.2.</span> <span class="toc-text">多资源并行管理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6"><span class="toc-number">2.7.3.</span> <span class="toc-text">文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%EF%BC%88Read%EF%BC%89%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.3.1.</span> <span class="toc-text">查（Read）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E5%86%85%E5%AE%B9"><span class="toc-number">2.7.3.1.1.</span> <span class="toc-text">列出目录内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">2.7.3.1.2.</span> <span class="toc-text">获取文件信息</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%EF%BC%88Create%EF%BC%89%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.3.2.</span> <span class="toc-text">增（Create）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-number">2.7.3.2.1.</span> <span class="toc-text">创建文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="toc-number">2.7.3.2.2.</span> <span class="toc-text">创建目录</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%EF%BC%88Delete%EF%BC%89%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.3.3.</span> <span class="toc-text">删（Delete）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">2.7.3.3.1.</span> <span class="toc-text">安全删除文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95"><span class="toc-number">2.7.3.3.2.</span> <span class="toc-text">删除目录</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B9%EF%BC%88Update%EF%BC%89%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.3.4.</span> <span class="toc-text">改（Update）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E5%91%BD%E5%90%8D-%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6"><span class="toc-number">2.7.3.4.1.</span> <span class="toc-text">重命名&#x2F;移动文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">2.7.3.4.2.</span> <span class="toc-text">修改文件内容</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7"><span class="toc-number">2.7.3.5.</span> <span class="toc-text">高级技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%A8%E5%B9%B3%E5%8F%B0%E8%B7%AF%E5%BE%84%E5%A4%84%E7%90%86"><span class="toc-number">2.7.3.5.1.</span> <span class="toc-text">跨平台路径处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%B4%E6%97%B6%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">2.7.3.5.2.</span> <span class="toc-text">临时文件处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9B%91%E6%8E%A7"><span class="toc-number">2.7.3.5.3.</span> <span class="toc-text">文件监控</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IO%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.4.</span> <span class="toc-text">IO操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%EF%BC%88Read%EF%BC%89%E6%93%8D%E4%BD%9C-1"><span class="toc-number">2.7.4.1.</span> <span class="toc-text">查（Read）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96"><span class="toc-number">2.7.4.1.1.</span> <span class="toc-text">文本文件读取</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96"><span class="toc-number">2.7.4.1.2.</span> <span class="toc-text">二进制文件读取</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%EF%BC%88Create-Write%EF%BC%89%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.4.2.</span> <span class="toc-text">增（Create&#x2F;Write）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E5%86%99%E5%85%A5%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-number">2.7.4.2.1.</span> <span class="toc-text">安全写入文本文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%BD%E5%8A%A0%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-number">2.7.4.2.2.</span> <span class="toc-text">追加写入文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B9%EF%BC%88Update%EF%BC%89%E6%93%8D%E4%BD%9C-1"><span class="toc-number">2.7.4.3.</span> <span class="toc-text">改（Update）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E5%9C%B0%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">2.7.4.3.1.</span> <span class="toc-text">原地修改文件内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%9B%BF%E6%8D%A2%E6%96%87%E4%BB%B6"><span class="toc-number">2.7.4.3.2.</span> <span class="toc-text">安全替换文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%EF%BC%88Delete%EF%BC%89%E6%93%8D%E4%BD%9C-1"><span class="toc-number">2.7.4.4.</span> <span class="toc-text">删（Delete）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B8%85%E7%A9%BA%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">2.7.4.4.1.</span> <span class="toc-text">清空文件内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">2.7.4.4.2.</span> <span class="toc-text">删除文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7IO%E6%8A%80%E5%B7%A7"><span class="toc-number">2.7.4.5.</span> <span class="toc-text">高级IO技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E6%B5%81%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.4.5.1.</span> <span class="toc-text">内存流操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%B5%81%E5%88%86%E5%9D%97%E5%A4%84%E7%90%86"><span class="toc-number">2.7.4.5.2.</span> <span class="toc-text">二进制流分块处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5IO%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.4.5.3.</span> <span class="toc-text">异步IO操作</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.</span> <span class="toc-text">Python面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E7%9A%84%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3"><span class="toc-number">3.1.</span> <span class="toc-text">面向对象编程的核心思想</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1%EF%BC%9AOOP%E7%9A%84%E5%9F%BA%E7%9F%B3"><span class="toc-number">3.2.</span> <span class="toc-text">类与对象：OOP的基石</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OOP%E4%B8%89%E5%A4%A7%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="toc-number">3.3.</span> <span class="toc-text">OOP三大核心特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%EF%BC%88Encapsulation%EF%BC%89"><span class="toc-number">3.3.1.</span> <span class="toc-text">封装（Encapsulation）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%EF%BC%88Inheritance%EF%BC%89"><span class="toc-number">3.3.2.</span> <span class="toc-text">继承（Inheritance）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%EF%BC%88Polymorphism%EF%BC%89"><span class="toc-number">3.3.3.</span> <span class="toc-text">多态（Polymorphism）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#init-%EF%BC%88%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%89"><span class="toc-number">3.4.</span> <span class="toc-text">__init__（初始化）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#slots-%EF%BC%88%E5%B1%9E%E6%80%A7%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89"><span class="toc-number">3.5.</span> <span class="toc-text">__slots__（属性白名单）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#setattr-%EF%BC%88%E5%8A%A8%E6%80%81%E5%B1%9E%E6%80%A7%E6%8B%A6%E6%88%AA%EF%BC%89"><span class="toc-number">3.6.</span> <span class="toc-text">__setattr__（动态属性拦截）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#solts%E4%B8%8Esetattr%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">3.7.</span> <span class="toc-text">solts与setattr的选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dict-%EF%BC%88%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E5%AD%97%E5%85%B8%EF%BC%89"><span class="toc-number">3.8.</span> <span class="toc-text">__dict__（对象属性字典）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.8.1.</span> <span class="toc-text">核心应用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%B1%9E%E6%80%A7%E7%AE%A1%E7%90%86"><span class="toc-number">3.8.1.1.</span> <span class="toc-text">动态属性管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">3.8.1.2.</span> <span class="toc-text">对象序列化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BC%96%E7%A8%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">3.8.1.3.</span> <span class="toc-text">元编程操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#self%E5%8F%82%E6%95%B0"><span class="toc-number">3.9.</span> <span class="toc-text">self参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7"><span class="toc-number">3.10.</span> <span class="toc-text">静态属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#classmethod"><span class="toc-number">3.11.</span> <span class="toc-text">@classmethod</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="toc-number">3.11.1.</span> <span class="toc-text">核心特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.11.2.</span> <span class="toc-text">常见使用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%BF%E4%BB%A3%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.11.2.1.</span> <span class="toc-text">替代构造函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.11.2.2.</span> <span class="toc-text">工厂模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="toc-number">3.11.2.3.</span> <span class="toc-text">类状态管理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B8%E5%9E%8B%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.11.3.</span> <span class="toc-text">典型示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#staticmethod"><span class="toc-number">3.12.</span> <span class="toc-text">@staticmethod</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95%E4%B8%8E%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.12.1.</span> <span class="toc-text">定义语法与示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%AE%9A%E4%B9%89"><span class="toc-number">3.12.1.1.</span> <span class="toc-text">基础定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0"><span class="toc-number">3.12.1.2.</span> <span class="toc-text">动态添加</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-3"><span class="toc-number">3.12.2.</span> <span class="toc-text">典型应用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF1%EF%BC%9A%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85"><span class="toc-number">3.12.2.1.</span> <span class="toc-text">场景1：工具函数封装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF2%EF%BC%9A%E8%BE%85%E5%8A%A9%E8%AE%A1%E7%AE%97"><span class="toc-number">3.12.2.2.</span> <span class="toc-text">场景2：辅助计算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF3%EF%BC%9A%E6%9B%BF%E4%BB%A3%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0"><span class="toc-number">3.12.2.3.</span> <span class="toc-text">场景3：替代全局函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">3.12.3.</span> <span class="toc-text">与相关概念的对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">3.13.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%B7%AE%E5%BC%82%E7%82%B9"><span class="toc-number">3.13.1.</span> <span class="toc-text">核心差异点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E7%B1%BB%E9%A1%BA%E5%BA%8F"><span class="toc-number">3.13.2.</span> <span class="toc-text">父类顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MRO"><span class="toc-number">3.13.2.1.</span> <span class="toc-text">MRO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E9%80%BB%E8%BE%91"><span class="toc-number">3.13.2.2.</span> <span class="toc-text">执行逻辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.13.2.3.</span> <span class="toc-text">执行流程示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8BMRO"><span class="toc-number">3.13.2.4.</span> <span class="toc-text">查看MRO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%AD%E6%96%AD%E5%9C%BA%E6%99%AF"><span class="toc-number">3.13.2.5.</span> <span class="toc-text">初始化中断场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E8%B0%83%E7%94%A8%E6%8C%87%E5%AE%9A%E7%88%B6%E7%B1%BB"><span class="toc-number">3.13.2.6.</span> <span class="toc-text">强制调用指定父类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">3.14.</span> <span class="toc-text">多态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.14.1.</span> <span class="toc-text">基础示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E5%9C%BA%E6%99%AF"><span class="toc-number">3.14.2.</span> <span class="toc-text">进阶场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E4%BC%98%E5%8A%BF"><span class="toc-number">3.14.3.</span> <span class="toc-text">多态优势</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85"><span class="toc-number">3.15.</span> <span class="toc-text">封装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E5%AE%9E%E7%8E%B0%E5%B0%81%E8%A3%85%E7%9A%843%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">3.15.1.</span> <span class="toc-text">Python实现封装的3种方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A%EF%BC%88%E5%BC%B1%E5%B0%81%E8%A3%85%EF%BC%89"><span class="toc-number">3.15.1.1.</span> <span class="toc-text">命名约定（弱封装）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8D%E7%A7%B0%E4%BF%AE%E9%A5%B0%EF%BC%88%E5%BC%BA%E5%B0%81%E8%A3%85%EF%BC%89"><span class="toc-number">3.15.1.2.</span> <span class="toc-text">名称修饰（强封装）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%A3%85%E9%A5%B0%E5%99%A8%EF%BC%88%E6%8E%A8%E8%8D%90%E6%96%B9%E6%A1%88%EF%BC%89"><span class="toc-number">3.15.1.3.</span> <span class="toc-text">属性装饰器（推荐方案）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B"><span class="toc-number">3.15.2.</span> <span class="toc-text">完整案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">3.15.3.</span> <span class="toc-text">封装的优势</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95"><span class="toc-number">3.16.</span> <span class="toc-text">魔法方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E9%A2%91%E6%96%B9%E6%B3%95"><span class="toc-number">3.16.1.</span> <span class="toc-text">高频方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.16.1.1.</span> <span class="toc-text">对象生命周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-number">3.16.1.2.</span> <span class="toc-text">运算符重载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.16.1.3.</span> <span class="toc-text">容器协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90%E5%AE%9E%E8%B7%B5"><span class="toc-number">3.16.2.</span> <span class="toc-text">推荐实践</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.16.2.1.</span> <span class="toc-text">上下文管理器示例</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/06/Python/" title="Python">Python</a><time datetime="2025-04-06T09:36:35.000Z" title="发表于 2025-04-06 17:36:35">2025-04-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/05/Vue3/" title="Vue">Vue</a><time datetime="2025-04-05T06:35:35.000Z" title="发表于 2025-04-05 14:35:35">2025-04-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/05/TypeScript/" title="TypeScript">TypeScript</a><time datetime="2025-04-05T06:29:35.000Z" title="发表于 2025-04-05 14:29:35">2025-04-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/05/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="MySQL">MySQL</a><time datetime="2025-04-05T06:09:35.000Z" title="发表于 2025-04-05 14:09:35">2025-04-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/05/Maven/" title="Maven">Maven</a><time datetime="2025-04-05T05:51:35.000Z" title="发表于 2025-04-05 13:51:35">2025-04-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Zhao</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script src="/js/header_bg.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body></html>